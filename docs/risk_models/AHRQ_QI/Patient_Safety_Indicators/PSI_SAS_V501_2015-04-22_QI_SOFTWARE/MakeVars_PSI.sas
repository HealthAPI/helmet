*---------------------------------------------------------------------*;
*--- The following Macros are called from the PSSASP3 Program       --*;
*-- MAKECOVAR CREATES THE VARIABLES USED FOR RISK ADJUSTMENT.       --*;
*-- THE LOCATION OF THIS FILE MUST BE ENTERED IN THE CONTROL FILE.  --*;
*---------------------------------------------------------------------*; 
%macro MakeVars_PSI_02 ;
IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. XIN1 XIN2 P1
       XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5) THEN XCV2 = 1;
ELSE IF POPCAT IN (6) THEN XCV3 = 1;
ELSE IF POPCAT IN (7,8,9,10,11,12) THEN XCV4 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV5 = 1;
ELSE IF POPCAT IN (15) THEN XCV6 = 1;
ELSE IF POPCAT IN (16) THEN XCV7 = 1;
ELSE IF POPCAT IN (17) THEN XCV8 = 1;
ELSE IF POPCAT IN (18) THEN XCV9 = 1;

IF MDRG IN (413) THEN XCV10 = 1;
ELSE IF MDRG IN (533) THEN XCV11 = 1;
ELSE IF MDRG IN (1915) THEN XCV12 = 1;
ELSE IF MDRG IN (2019) THEN XCV13 = 1;

ELSE IF MDC IN (19) THEN XCV14 = 1;
ELSE                     XIN2 = 1;

IF TRNSFER THEN XCV15 = 1;
IF NOPRDAY THEN XCV16= 1;


%if &USEPOA=0 %then %do ;
IF CHF THEN XCV17 = 1;
IF NEURO  THEN XCV18 = 1;
IF CHRNLUNG  THEN XCV19 = 1;
IF HYPOTHY THEN XCV20 = 1;
IF RENLFAIL THEN XCV21 = 1;
IF OBESE THEN XCV22 = 1;
IF ANEMDEF THEN XCV23 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF XHF  THEN XCV17 = 1;
IF XEURO  THEN XCV18 = 1;
IF XHRNLUNG  THEN XCV19 = 1;
IF XYPOTHY  THEN XCV20 = 1;
IF XENLFAIL  THEN XCV21 = 1;
IF XBESE THEN XCV22 = 1;
IF XNEMDEF  THEN XCV23 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;

%mend MakeVars_PSI_02 ;

%macro MakeVars_PSI_03  ;

LENGTH YTPPS&PS. P1 XIN1 XIN2 
       XCV1-XCV&CV. 3;

IF TPPS&PS. IN (0,1);

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11) THEN XCV7 = 1;
ELSE IF POPCAT IN (12) THEN XCV8 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14,15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (102) THEN XCV13 = 1;
ELSE IF MDRG IN (103) THEN XCV14 = 1;
ELSE IF MDRG IN (111) THEN XCV15 = 1;
ELSE IF MDRG IN (114) THEN XCV16 = 1;
ELSE IF MDRG IN (117) THEN XCV17 = 1;
ELSE IF MDRG IN (128) THEN XCV18 = 1;
ELSE IF MDRG IN (401) THEN XCV19 = 1;
ELSE IF MDRG IN (402) THEN XCV20 = 1;
ELSE IF MDRG IN (403) THEN XCV21 = 1;
ELSE IF MDRG IN (404) THEN XCV22 = 1;
ELSE IF MDRG IN (405) THEN XCV23 = 1;
ELSE IF MDRG IN (407) THEN XCV24 = 1;
ELSE IF MDRG IN (408) THEN XCV25 = 1;
ELSE IF MDRG IN (409) THEN XCV26 = 1;
ELSE IF MDRG IN (410) THEN XCV27 = 1;
ELSE IF MDRG IN (416) THEN XCV28 = 1;
ELSE IF MDRG IN (503) THEN XCV29 = 1;
ELSE IF MDRG IN (504) THEN XCV30 = 1;
ELSE IF MDRG IN (507) THEN XCV31 = 1;
ELSE IF MDRG IN (508) THEN XCV32 = 1;
ELSE IF MDRG IN (509) THEN XCV33 = 1;
ELSE IF MDRG IN (510) THEN XCV34 = 1;
ELSE IF MDRG IN (514) THEN XCV35 = 1;
ELSE IF MDRG IN (519) THEN XCV36 = 1;
ELSE IF MDRG IN (520) THEN XCV37 = 1;
ELSE IF MDRG IN (521) THEN XCV38 = 1;
ELSE IF MDRG IN (524) THEN XCV39 = 1;
ELSE IF MDRG IN (527) THEN XCV40 = 1;
ELSE IF MDRG IN (531) THEN XCV41 = 1;
ELSE IF MDRG IN (535) THEN XCV42 = 1;
ELSE IF MDRG IN (601) THEN XCV43 = 1;
ELSE IF MDRG IN (602) THEN XCV44 = 1;
ELSE IF MDRG IN (604) THEN XCV45 = 1;
ELSE IF MDRG IN (611) THEN XCV46 = 1;
ELSE IF MDRG IN (613) THEN XCV47 = 1;
ELSE IF MDRG IN (614) THEN XCV48 = 1;
ELSE IF MDRG IN (615) THEN XCV49 = 1;
ELSE IF MDRG IN (619) THEN XCV50 = 1;
ELSE IF MDRG IN (621) THEN XCV51 = 1;
ELSE IF MDRG IN (701) THEN XCV52 = 1;
ELSE IF MDRG IN (708) THEN XCV53 = 1;
ELSE IF MDRG IN (709) THEN XCV54 = 1;
ELSE IF MDRG IN (711) THEN XCV55 = 1;
ELSE IF MDRG IN (805) THEN XCV56 = 1;
ELSE IF MDRG IN (806) THEN XCV57 = 1;
ELSE IF MDRG IN (807) THEN XCV58 = 1;
ELSE IF MDRG IN (809) THEN XCV59 = 1;
ELSE IF MDRG IN (811) THEN XCV60 = 1;
ELSE IF MDRG IN (816) THEN XCV61 = 1;
ELSE IF MDRG IN (828) THEN XCV62 = 1;
ELSE IF MDRG IN (830) THEN XCV63 = 1;
ELSE IF MDRG IN (831) THEN XCV64 = 1;
ELSE IF MDRG IN (834) THEN XCV65 = 1;
ELSE IF MDRG IN (1006) THEN XCV66 = 1;
ELSE IF MDRG IN (1007) THEN XCV67 = 1;
ELSE IF MDRG IN (1008) THEN XCV68 = 1;
ELSE IF MDRG IN (1103) THEN XCV69 = 1;
ELSE IF MDRG IN (1104) THEN XCV70 = 1;
ELSE IF MDRG IN (1109) THEN XCV71 = 1;
ELSE IF MDRG IN (1110) THEN XCV72 = 1;
ELSE IF MDRG IN (1113) THEN XCV73 = 1;
ELSE IF MDRG IN (1118) THEN XCV74 = 1;
ELSE IF MDRG IN (1603) THEN XCV75 = 1;
ELSE IF MDRG IN (1604) THEN XCV76 = 1;
ELSE IF MDRG IN (1711) THEN XCV77 = 1;
ELSE IF MDRG IN (1713) THEN XCV78 = 1;
ELSE IF MDRG IN (1801) THEN XCV79 = 1;
ELSE IF MDRG IN (1802) THEN XCV80 = 1;
ELSE IF MDRG IN (1803) THEN XCV81 = 1;
ELSE IF MDRG IN (1806) THEN XCV82 = 1;
ELSE IF MDRG IN (1807) THEN XCV83 = 1;
ELSE IF MDRG IN (1808) THEN XCV84 = 1;
ELSE IF MDRG IN (1915) THEN ZIN2 = 1;
ELSE IF MDRG IN (2104) THEN XCV85 = 1;
ELSE IF MDRG IN (2108) THEN XCV86 = 1;
ELSE IF MDRG IN (2302) THEN XCV87 = 1;
ELSE IF MDRG IN (2303) THEN XCV88 = 1;
ELSE IF MDRG IN (2407) THEN XCV89 = 1;
ELSE IF MDRG IN (2408) THEN XCV90 = 1;
ELSE IF MDRG IN (2502) THEN XCV91 = 1;

ELSE IF MDC IN (1) THEN XCV92 = 1;
ELSE IF MDC IN (3) THEN XCV93 = 1;
ELSE IF MDC IN (4) THEN XCV94 = 1;
ELSE IF MDC IN (5) THEN XCV95 = 1;
ELSE IF MDC IN (6) THEN XCV96 = 1;
ELSE IF MDC IN (7) THEN XCV97 = 1;
ELSE IF MDC IN (8) THEN XCV98 = 1;
ELSE IF MDC IN (10) THEN XCV99 = 1;
ELSE IF MDC IN (11) THEN XCV100 = 1;
ELSE IF MDC IN (13) THEN XCV101 = 1;
ELSE IF MDC IN (16) THEN XCV102 = 1;
ELSE IF MDC IN (17) THEN XCV103 = 1;
ELSE IF MDC IN (18) THEN XCV104 = 1;
ELSE IF MDC IN (21) THEN XCV105 = 1;
ELSE IF MDC IN (23) THEN XCV106 = 1;
ELSE IF MDC IN (24) THEN XCV107 = 1;
ELSE IF MDC IN (25) THEN XCV108 = 1;

ELSE                     XCV109 = 1;

IF NOPOUB04 THEN XCV110 = 1;
IF NOPRDAY THEN XCV111 = 1;

IF HTN_C THEN XCV112 = 1;
IF NEURO  THEN XCV113 = 1;
IF CHRNLUNG  THEN XCV114 = 1;
IF DM  THEN XCV115 = 1;
IF DMCX THEN XCV116 = 1;
IF HYPOTHY THEN XCV117 = 1;
IF RENLFAIL THEN XCV118 = 1;
IF AIDS THEN XCV119 = 1;
IF TUMOR THEN XCV120 = 1;
IF WGHTLOSS THEN XCV121 = 1;
IF ANEMDEF THEN XCV122 = 1;
IF DRUG THEN XCV123 = 1;
IF PSYCH THEN XCV124 = 1;
IF DEPRESS  THEN XCV125 = 1;

%end ;

%if &USEPOA=1 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11) THEN XCV7 = 1;
ELSE IF POPCAT IN (12) THEN XCV8 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14,15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (102) THEN XCV13 = 1;
ELSE IF MDRG IN (103) THEN XCV14 = 1;
ELSE IF MDRG IN (111) THEN XCV15 = 1;
ELSE IF MDRG IN (114) THEN XCV16 = 1;
ELSE IF MDRG IN (117) THEN XCV17 = 1;
ELSE IF MDRG IN (128) THEN XCV18 = 1;
ELSE IF MDRG IN (401) THEN XCV19 = 1;
ELSE IF MDRG IN (402) THEN XCV20 = 1;
ELSE IF MDRG IN (403) THEN XCV21 = 1;
ELSE IF MDRG IN (404) THEN XCV22 = 1;
ELSE IF MDRG IN (405) THEN XCV23 = 1;
ELSE IF MDRG IN (407) THEN XCV24 = 1;
ELSE IF MDRG IN (408) THEN XCV25 = 1;
ELSE IF MDRG IN (409) THEN XCV26 = 1;
ELSE IF MDRG IN (410) THEN XCV27 = 1;
ELSE IF MDRG IN (416) THEN XCV28 = 1;
ELSE IF MDRG IN (503) THEN XCV29 = 1;
ELSE IF MDRG IN (504) THEN XCV30 = 1;
ELSE IF MDRG IN (507) THEN XCV31 = 1;
ELSE IF MDRG IN (508) THEN XCV32 = 1;
ELSE IF MDRG IN (509) THEN XCV33 = 1;
ELSE IF MDRG IN (510) THEN XCV34 = 1;
ELSE IF MDRG IN (514) THEN XCV35 = 1;
ELSE IF MDRG IN (519) THEN XCV36 = 1;
ELSE IF MDRG IN (520) THEN XCV37 = 1;
ELSE IF MDRG IN (521) THEN XCV38 = 1;
ELSE IF MDRG IN (524) THEN XCV39 = 1;
ELSE IF MDRG IN (527) THEN XCV40 = 1;
ELSE IF MDRG IN (531) THEN XCV41 = 1;
ELSE IF MDRG IN (535) THEN XCV42 = 1;
ELSE IF MDRG IN (601) THEN XCV43 = 1;
ELSE IF MDRG IN (602) THEN XCV44 = 1;
ELSE IF MDRG IN (604) THEN XCV45 = 1;
ELSE IF MDRG IN (611) THEN XCV46 = 1;
ELSE IF MDRG IN (613) THEN XCV47 = 1;
ELSE IF MDRG IN (614) THEN XCV48 = 1;
ELSE IF MDRG IN (615) THEN XCV49 = 1;
ELSE IF MDRG IN (619) THEN XCV50 = 1;
ELSE IF MDRG IN (621) THEN XCV51 = 1;
ELSE IF MDRG IN (701) THEN XCV52 = 1;
ELSE IF MDRG IN (708) THEN XCV53 = 1;
ELSE IF MDRG IN (709) THEN XCV54 = 1;
ELSE IF MDRG IN (711) THEN XCV55 = 1;
ELSE IF MDRG IN (805) THEN XCV56 = 1;
ELSE IF MDRG IN (806) THEN XCV57 = 1;
ELSE IF MDRG IN (807) THEN XCV58 = 1;
ELSE IF MDRG IN (809) THEN XCV59 = 1;
ELSE IF MDRG IN (811) THEN XCV60 = 1;
ELSE IF MDRG IN (816) THEN XCV61 = 1;
ELSE IF MDRG IN (828) THEN XCV62 = 1;
ELSE IF MDRG IN (830) THEN XCV63 = 1;
ELSE IF MDRG IN (831) THEN XCV64 = 1;
ELSE IF MDRG IN (834) THEN XCV65 = 1;
ELSE IF MDRG IN (1006) THEN XCV66 = 1;
ELSE IF MDRG IN (1007) THEN XCV67 = 1;
ELSE IF MDRG IN (1008) THEN XCV68 = 1;
ELSE IF MDRG IN (1103) THEN XCV69 = 1;
ELSE IF MDRG IN (1104) THEN XCV70 = 1;
ELSE IF MDRG IN (1109) THEN XCV71 = 1;
ELSE IF MDRG IN (1110) THEN XCV72 = 1;
ELSE IF MDRG IN (1113) THEN XCV73 = 1;
ELSE IF MDRG IN (1118) THEN XCV74 = 1;
ELSE IF MDRG IN (1603) THEN XCV75 = 1;
ELSE IF MDRG IN (1604) THEN XCV76 = 1;
ELSE IF MDRG IN (1711) THEN XCV77 = 1;
ELSE IF MDRG IN (1713) THEN XCV78 = 1;
ELSE IF MDRG IN (1801) THEN XCV79 = 1;
ELSE IF MDRG IN (1802) THEN XCV80 = 1;
ELSE IF MDRG IN (1803) THEN XCV81 = 1;
ELSE IF MDRG IN (1806) THEN XCV82 = 1;
ELSE IF MDRG IN (1807) THEN XCV83 = 1;
ELSE IF MDRG IN (1808) THEN XCV84 = 1;
ELSE IF MDRG IN (1915) THEN XIN2 = 1;
ELSE IF MDRG IN (2104) THEN XCV85 = 1;
ELSE IF MDRG IN (2108) THEN XCV86 = 1;
ELSE IF MDRG IN (2302) THEN XCV87 = 1;
ELSE IF MDRG IN (2303) THEN XCV88 = 1;
ELSE IF MDRG IN (2407) THEN XCV89 = 1;
ELSE IF MDRG IN (2408) THEN XCV90 = 1;
ELSE IF MDRG IN (2502) THEN XCV91 = 1;

ELSE IF MDC IN (1) THEN XCV92 = 1;
ELSE IF MDC IN (3) THEN XCV93 = 1;
ELSE IF MDC IN (4) THEN XCV94 = 1;
ELSE IF MDC IN (5) THEN XCV95 = 1;
ELSE IF MDC IN (6) THEN XCV96 = 1;
ELSE IF MDC IN (7) THEN XCV97 = 1;
ELSE IF MDC IN (8) THEN XCV98 = 1;
ELSE IF MDC IN (10) THEN XCV99 = 1;
ELSE IF MDC IN (11) THEN XCV100 = 1;
ELSE IF MDC IN (13) THEN XCV101 = 1;
ELSE IF MDC IN (16) THEN XCV102 = 1;
ELSE IF MDC IN (17) THEN XCV103 = 1;
ELSE IF MDC IN (18) THEN XCV104 = 1;
ELSE IF MDC IN (21) THEN XCV105 = 1;
ELSE IF MDC IN (23) THEN XCV106 = 1;
ELSE IF MDC IN (24) THEN XCV107 = 1;
ELSE IF MDC IN (25) THEN XCV108 = 1;

ELSE                     XCV109 = 1;

IF NOPOUB04 THEN XCV110 = 1;
IF NOPRDAY THEN XCV111 = 1;

IF XTN_C THEN XCV112 = 1;
IF XEURO  THEN XCV113 = 1;
IF XHRNLUNG  THEN XCV114 = 1;
IF XM  THEN XCV115 = 1;
IF XMCX THEN XCV116 = 1;
IF XYPOTHY  THEN XCV117 = 1;
IF XENLFAIL  THEN XCV118 = 1;
IF XIDS THEN XCV119 = 1;
IF XUMOR  THEN XCV120 = 1;
IF XGHTLOSS  THEN XCV121 = 1;
IF XNEMDEF  THEN XCV122 = 1;
IF XRUG THEN XCV123 = 1;
IF XSYCH  THEN XCV124 = 1;
IF XEPRESS  THEN XCV125 = 1;
%end;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;

%mend MakeVars_PSI_03 ;

%macro MakeVars_PSI_04 ;

LENGTH YTPPS&PS. P1  XIN1 XIN2 
   XCV1-XCV&CV. 3;

IF TPPS&PS. IN (0,1);

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN ZIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF CHF THEN XCV72 = 1;
IF PULMCIRC THEN XCV73 = 1;
IF PERIVASC THEN XCV74 = 1;
IF HTN_C THEN XCV75 = 1;
IF PARA  THEN XCV76 = 1;
IF DMCX THEN XCV77 = 1;
IF HYPOTHY THEN XCV78 = 1;
IF RENLFAIL THEN XCV79 = 1;
IF LIVER THEN XCV80 = 1;
IF METS THEN XCV81 = 1;
IF WGHTLOSS THEN XCV82 = 1;
IF BLDLOSS THEN XCV83 = 1;
IF ANEMDEF THEN XCV84 = 1;
IF DRUG THEN XCV85 = 1;
IF PSYCH THEN XCV86 = 1;
IF DEPRESS  THEN XCV87 = 1;
%end ;


%if &USEPOA=1 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN XIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF XHF  THEN XCV72 = 1;
IF XULMCIRC  THEN XCV73 = 1;
IF XERIVASC  THEN XCV74 = 1;
IF XTN_C THEN XCV75 = 1;
IF XARA  THEN XCV76 = 1;
IF XMCX THEN XCV77 = 1;
IF XYPOTHY  THEN XCV78 = 1;
IF XENLFAIL  THEN XCV79 = 1;
IF XIVER  THEN XCV80 = 1;
IF XETS  THEN XCV81 = 1;
IF XGHTLOSS  THEN XCV82 = 1;
IF XLDLOSS  THEN XCV83 = 1;
IF XNEMDEF  THEN XCV84 = 1;
IF XRUG THEN XCV85 = 1;
IF XSYCH  THEN XCV86 = 1;
IF XEPRESS  THEN XCV87 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;


retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;
  
%mend MakeVars_PSI_04 ;

%macro MakeVars_PSI_04a ;

IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. P1  XIN1 XIN2 
       XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN ZIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF CHF THEN XCV72 = 1;
IF PULMCIRC THEN XCV73 = 1;
IF PERIVASC THEN XCV74 = 1;
IF HTN_C THEN XCV75 = 1;
IF PARA  THEN XCV76 = 1;
IF DMCX THEN XCV77 = 1;
IF HYPOTHY THEN XCV78 = 1;
IF RENLFAIL THEN XCV79 = 1;
IF LIVER THEN XCV80 = 1;
IF METS THEN XCV81 = 1;
IF WGHTLOSS THEN XCV82 = 1;
IF BLDLOSS THEN XCV83 = 1;
IF ANEMDEF THEN XCV84 = 1;
IF DRUG THEN XCV85 = 1;
IF PSYCH THEN XCV86 = 1;
IF DEPRESS  THEN XCV87 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN XIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF XHF  THEN XCV72 = 1;
IF XULMCIRC  THEN XCV73 = 1;
IF XERIVASC  THEN XCV74 = 1;
IF XTN_C THEN XCV75 = 1;
IF XARA  THEN XCV76 = 1;
IF XMCX THEN XCV77 = 1;
IF XYPOTHY  THEN XCV78 = 1;
IF XENLFAIL  THEN XCV79 = 1;
IF XIVER  THEN XCV80 = 1;
IF XETS  THEN XCV81 = 1;
IF XGHTLOSS  THEN XCV82 = 1;
IF XLDLOSS  THEN XCV83 = 1;
IF XNEMDEF  THEN XCV84 = 1;
IF XRUG THEN XCV85 = 1;
IF XSYCH  THEN XCV86 = 1;
IF XEPRESS  THEN XCV87 = 1;

%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;

%mend MakeVars_PSI_04a ;

%macro MakeVars_PSI_04b ;
IF TPPS&PS. IN (0,1);

  LENGTH YTPPS&PS. P1 XIN1 XIN2 
          XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if USEPOA=0 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN ZIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF CHF THEN XCV72 = 1;
IF PULMCIRC THEN XCV73 = 1;
IF PERIVASC THEN XCV74 = 1;
IF HTN_C THEN XCV75 = 1;
IF PARA  THEN XCV76 = 1;
IF DMCX THEN XCV77 = 1;
IF HYPOTHY THEN XCV78 = 1;
IF RENLFAIL THEN XCV79 = 1;
IF LIVER THEN XCV80 = 1;
IF METS THEN XCV81 = 1;
IF WGHTLOSS THEN XCV82 = 1;
IF BLDLOSS THEN XCV83 = 1;
IF ANEMDEF THEN XCV84 = 1;
IF DRUG THEN XCV85 = 1;
IF PSYCH THEN XCV86 = 1;
IF DEPRESS  THEN XCV87 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN XIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF XHF  THEN XCV72 = 1;
IF XULMCIRC  THEN XCV73 = 1;
IF XERIVASC  THEN XCV74 = 1;
IF XTN_C THEN XCV75 = 1;
IF XARA  THEN XCV76 = 1;
IF XMCX THEN XCV77 = 1;
IF XYPOTHY  THEN XCV78 = 1;
IF XENLFAIL  THEN XCV79 = 1;
IF XIVER  THEN XCV80 = 1;
IF XETS  THEN XCV81 = 1;
IF XGHTLOSS  THEN XCV82 = 1;
IF XLDLOSS  THEN XCV83 = 1;
IF XNEMDEF  THEN XCV84 = 1;
IF XRUG THEN XCV85 = 1;
IF XSYCH  THEN XCV86 = 1;
IF XEPRESS  THEN XCV87 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;


%mend MakeVars_PSI_04b ;


%macro MakeVars_PSI_04c ;
LENGTH YTPPS&PS. P1 ZIN1 ZIN2 XIN1 XIN2 
      XCV1-XCV&CV. 3;

IF TPPS&PS. IN (0,1);

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

ZIN1=.; ZIN2=.;


%if &USEPOA=0 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN ZIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF CHF THEN XCV72 = 1;
IF PULMCIRC THEN XCV73 = 1;
IF PERIVASC THEN XCV74 = 1;
IF HTN_C THEN XCV75 = 1;
IF PARA  THEN XCV76 = 1;
IF DMCX THEN XCV77 = 1;
IF HYPOTHY THEN XCV78 = 1;
IF RENLFAIL THEN XCV79 = 1;
IF LIVER THEN XCV80 = 1;
IF METS THEN XCV81 = 1;
IF WGHTLOSS THEN XCV82 = 1;
IF BLDLOSS THEN XCV83 = 1;
IF ANEMDEF THEN XCV84 = 1;
IF DRUG THEN XCV85 = 1;
IF PSYCH THEN XCV86 = 1;
IF DEPRESS  THEN XCV87 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN XIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF XHF  THEN XCV72 = 1;
IF XULMCIRC  THEN XCV73 = 1;
IF XERIVASC  THEN XCV74 = 1;
IF XTN_C THEN XCV75 = 1;
IF XARA  THEN XCV76 = 1;
IF XMCX THEN XCV77 = 1;
IF XYPOTHY  THEN XCV78 = 1;
IF XENLFAIL  THEN XCV79 = 1;
IF XIVER  THEN XCV80 = 1;
IF XETS  THEN XCV81 = 1;
IF XGHTLOSS  THEN XCV82 = 1;
IF XLDLOSS  THEN XCV83 = 1;
IF XNEMDEF  THEN XCV84 = 1;
IF XRUG THEN XCV85 = 1;
IF XSYCH  THEN XCV86 = 1;
IF XEPRESS  THEN XCV87 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;

%mend MakeVars_PSI_04c ;


%macro MakeVars_PSI_04d ;
IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. P1 XIN1 XIN2 
       XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN ZIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF CHF THEN XCV72 = 1;
IF PULMCIRC THEN XCV73 = 1;
IF PERIVASC THEN XCV74 = 1;
IF HTN_C THEN XCV75 = 1;
IF PARA  THEN XCV76 = 1;
IF DMCX THEN XCV77 = 1;
IF HYPOTHY THEN XCV78 = 1;
IF RENLFAIL THEN XCV79 = 1;
IF LIVER THEN XCV80 = 1;
IF METS THEN XCV81 = 1;
IF WGHTLOSS THEN XCV82 = 1;
IF BLDLOSS THEN XCV83 = 1;
IF ANEMDEF THEN XCV84 = 1;
IF DRUG THEN XCV85 = 1;
IF PSYCH THEN XCV86 = 1;
IF DEPRESS  THEN XCV87 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN XIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF XHF  THEN XCV72 = 1;
IF XULMCIRC  THEN XCV73 = 1;
IF XERIVASC  THEN XCV74 = 1;
IF XTN_C THEN XCV75 = 1;
IF XARA  THEN XCV76 = 1;
IF XMCX THEN XCV77 = 1;
IF XYPOTHY  THEN XCV78 = 1;
IF XENLFAIL  THEN XCV79 = 1;
IF XIVER  THEN XCV80 = 1;
IF XETS  THEN XCV81 = 1;
IF XGHTLOSS  THEN XCV82 = 1;
IF XLDLOSS  THEN XCV83 = 1;
IF XNEMDEF  THEN XCV84 = 1;
IF XRUG THEN XCV85 = 1;
IF XSYCH  THEN XCV86 = 1;
IF XEPRESS  THEN XCV87 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;
  
%mend MakeVars_PSI_04d ;

%macro MakeVars_PSI_04e ;
LENGTH YTPPS&PS. P1 ZIN1 ZIN2 XIN1 XIN2 
       XCV1-XCV&CV. 3;

IF TPPS&PS. IN (0,1);

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

ZIN1=.; ZIN2=.;

%if &USEPOA=0 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN ZIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF CHF THEN XCV72 = 1;
IF PULMCIRC THEN XCV73 = 1;
IF PERIVASC THEN XCV74 = 1;
IF HTN_C THEN XCV75 = 1;
IF PARA  THEN XCV76 = 1;
IF DMCX THEN XCV77 = 1;
IF HYPOTHY THEN XCV78 = 1;
IF RENLFAIL THEN XCV79 = 1;
IF LIVER THEN XCV80 = 1;
IF METS THEN XCV81 = 1;
IF WGHTLOSS THEN XCV82 = 1;
IF BLDLOSS THEN XCV83 = 1;
IF ANEMDEF THEN XCV84 = 1;
IF DRUG THEN XCV85 = 1;
IF PSYCH THEN XCV86 = 1;
IF DEPRESS  THEN XCV87 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11,12) THEN XCV7 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV8 = 1;
ELSE IF POPCAT IN (15) THEN XCV9 = 1;
ELSE IF POPCAT IN (16) THEN XCV10 = 1;
ELSE IF POPCAT IN (17) THEN XCV11 = 1;
ELSE IF POPCAT IN (18) THEN XCV12 = 1;

IF MDRG IN (101) THEN XCV13 = 1;
ELSE IF MDRG IN (102) THEN XCV14 = 1;
ELSE IF MDRG IN (103) THEN XCV15 = 1;
ELSE IF MDRG IN (107) THEN XCV16 = 1;
ELSE IF MDRG IN (401) THEN XCV17 = 1;
ELSE IF MDRG IN (402) THEN XCV18 = 1;
ELSE IF MDRG IN (502) THEN XCV19 = 1;
ELSE IF MDRG IN (503) THEN XCV20 = 1;
ELSE IF MDRG IN (505) THEN XCV21 = 1;
ELSE IF MDRG IN (507) THEN XCV22 = 1;
ELSE IF MDRG IN (508) THEN XCV23 = 1;
ELSE IF MDRG IN (509) THEN XCV24 = 1;
ELSE IF MDRG IN (514) THEN XCV25 = 1;
ELSE IF MDRG IN (519) THEN XCV26 = 1;
ELSE IF MDRG IN (601) THEN XCV27 = 1;
ELSE IF MDRG IN (602) THEN XCV28 = 1;
ELSE IF MDRG IN (603) THEN XCV29 = 1;
ELSE IF MDRG IN (604) THEN XCV30 = 1;
ELSE IF MDRG IN (610) THEN XCV31 = 1;
ELSE IF MDRG IN (611) THEN XCV32 = 1;
ELSE IF MDRG IN (701) THEN XCV33 = 1;
ELSE IF MDRG IN (704) THEN XCV34 = 1;
ELSE IF MDRG IN (705) THEN XCV35 = 1;
ELSE IF MDRG IN (805) THEN XCV36 = 1;
ELSE IF MDRG IN (807) THEN XIN2 = 1;
ELSE IF MDRG IN (811) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1102) THEN XCV39 = 1;
ELSE IF MDRG IN (1103) THEN XCV40 = 1;
ELSE IF MDRG IN (1104) THEN XCV41 = 1;
ELSE IF MDRG IN (1109) THEN XCV42 = 1;
ELSE IF MDRG IN (1401) THEN XCV43 = 1;
ELSE IF MDRG IN (1707) THEN XCV44 = 1;
ELSE IF MDRG IN (1708) THEN XCV45 = 1;
ELSE IF MDRG IN (1709) THEN XCV46 = 1;
ELSE IF MDRG IN (1801) THEN XCV47 = 1;
ELSE IF MDRG IN (1802) THEN XCV48 = 1;
ELSE IF MDRG IN (2104) THEN XCV49 = 1;
ELSE IF MDRG IN (2406) THEN XCV50 = 1;
ELSE IF MDRG IN (2407) THEN XCV51 = 1;
ELSE IF MDRG IN (2408) THEN XCV52 = 1;

ELSE IF MDC IN (1) THEN XCV53 = 1;
ELSE IF MDC IN (3) THEN XCV54 = 1;
ELSE IF MDC IN (4) THEN XCV55 = 1;
ELSE IF MDC IN (5) THEN XCV56 = 1;
ELSE IF MDC IN (6) THEN XCV57 = 1;
ELSE IF MDC IN (7) THEN XCV58 = 1;
ELSE IF MDC IN (8) THEN XCV59 = 1;
ELSE IF MDC IN (9) THEN XCV60 = 1;
ELSE IF MDC IN (10) THEN XCV61 = 1;
ELSE IF MDC IN (11) THEN XCV62 = 1;
ELSE IF MDC IN (12) THEN XCV63 = 1;
ELSE IF MDC IN (13) THEN XCV64 = 1;
ELSE IF MDC IN (14) THEN XCV65 = 1;
ELSE IF MDC IN (16) THEN XCV66 = 1;
ELSE IF MDC IN (17) THEN XCV67 = 1;
ELSE IF MDC IN (18) THEN XCV68 = 1;
ELSE IF MDC IN (21) THEN XCV69 = 1;
ELSE                     XCV70 = 1;

IF TRNSFER THEN XCV71 = 1;

IF XHF  THEN XCV72 = 1;
IF XULMCIRC  THEN XCV73 = 1;
IF XERIVASC  THEN XCV74 = 1;
IF XTN_C THEN XCV75 = 1;
IF XARA  THEN XCV76 = 1;
IF XMCX THEN XCV77 = 1;
IF XYPOTHY  THEN XCV78 = 1;
IF XENLFAIL  THEN XCV79 = 1;
IF XIVER  THEN XCV80 = 1;
IF XETS  THEN XCV81 = 1;
IF XGHTLOSS  THEN XCV82 = 1;
IF XLDLOSS  THEN XCV83 = 1;
IF XNEMDEF  THEN XCV84 = 1;
IF XRUG THEN XCV85 = 1;
IF XSYCH  THEN XCV86 = 1;
IF XEPRESS  THEN XCV87 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. ;

%mend MakeVars_PSI_04e ;


%macro MakeVars_PSI_06 ;
IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. P1 XIN1 XIN2 
       XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5,6,7,8,9,10,11,12) THEN ZIN1 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14,15,16,17,18) THEN XCV2 = 1;

IF MDRG IN (416) THEN XCV3 = 1;
ELSE IF MDRG IN (504) THEN XCV4 = 1;
ELSE IF MDRG IN (510) THEN XCV5 = 1;
ELSE IF MDRG IN (601) THEN XCV6 = 1;
ELSE IF MDRG IN (602) THEN XCV7 = 1;
ELSE IF MDRG IN (1103) THEN XCV8 = 1;
ELSE IF MDRG IN (1801) THEN XCV9 = 1;
ELSE IF MDRG IN (1807) THEN XCV10 = 1;

ELSE IF MDC IN (1) THEN XCV11 = 1;
ELSE IF MDC IN (6) THEN XCV12 = 1;
ELSE IF MDC IN (8) THEN XCV13 = 1;
ELSE IF MDC IN (25) THEN XCV14 = 1;

ELSE                     ZIN2 = 1;

IF NOPRDAY THEN XCV15 = 1;

IF HTN_C THEN XCV16 = 1;
IF NEURO  THEN XCV17 = 1;
IF CHRNLUNG  THEN XCV18 = 1;
IF DM  THEN XCV19 = 1;
IF DMCX THEN XCV20 = 1;
IF METS THEN XCV21 = 1;
IF OBESE THEN XCV22 = 1;
IF WGHTLOSS THEN XCV23 = 1;
IF DRUG THEN XCV24 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5,6,7,8,9,10,11,12) THEN XIN1 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14,15,16,17,18) THEN XCV2 = 1;

IF MDRG IN (416) THEN XCV3 = 1;
ELSE IF MDRG IN (504) THEN XCV4 = 1;
ELSE IF MDRG IN (510) THEN XCV5 = 1;
ELSE IF MDRG IN (601) THEN XCV6 = 1;
ELSE IF MDRG IN (602) THEN XCV7 = 1;
ELSE IF MDRG IN (1103) THEN XCV8 = 1;
ELSE IF MDRG IN (1801) THEN XCV9 = 1;
ELSE IF MDRG IN (1807) THEN XCV10 = 1;

ELSE IF MDC IN (1) THEN XCV11 = 1;
ELSE IF MDC IN (6) THEN XCV12 = 1;
ELSE IF MDC IN (8) THEN XCV13 = 1;
ELSE IF MDC IN (25) THEN XCV14 = 1;

ELSE                     XIN2 = 1;

IF NOPRDAY THEN XCV15 = 1;

IF XTN_C THEN XCV16 = 1;
IF XEURO  THEN XCV17 = 1;
IF XHRNLUNG  THEN XCV18 = 1;
IF XM  THEN XCV19 = 1;
IF XMCX THEN XCV20 = 1;
IF XETS  THEN XCV21 = 1;
IF XBESE THEN XCV22 = 1;
IF XGHTLOSS  THEN XCV23 = 1;
IF XRUG THEN XCV24 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;


retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;
 
%mend MakeVars_PSI_06;


%macro MakeVars_PSI_07 ;
IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. P1 XIN1 XIN2 
       XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF MDRG IN (101) THEN XCV1 = 1;
ELSE IF MDRG IN (102) THEN XCV2 = 1;
ELSE IF MDRG IN (103) THEN XCV3 = 1;
ELSE IF MDRG IN (114) THEN XCV4 = 1;
ELSE IF MDRG IN (118) THEN XCV5 = 1;
ELSE IF MDRG IN (128) THEN XCV6 = 1;
ELSE IF MDRG IN (401) THEN XCV7 = 1;
ELSE IF MDRG IN (402) THEN XCV8 = 1;
ELSE IF MDRG IN (404) THEN XCV9 = 1;
ELSE IF MDRG IN (408) THEN XCV10 = 1;
ELSE IF MDRG IN (409) THEN XCV11 = 1;
ELSE IF MDRG IN (410) THEN XCV12 = 1;
ELSE IF MDRG IN (416) THEN XCV13 = 1;
ELSE IF MDRG IN (502) THEN XCV14 = 1;
ELSE IF MDRG IN (503) THEN XCV15 = 1;
ELSE IF MDRG IN (504) THEN XCV16 = 1;
ELSE IF MDRG IN (507) THEN XCV17 = 1;
ELSE IF MDRG IN (508) THEN XCV18 = 1;
ELSE IF MDRG IN (509) THEN XCV19 = 1;
ELSE IF MDRG IN (511) THEN XCV20 = 1;
ELSE IF MDRG IN (514) THEN XCV21 = 1;
ELSE IF MDRG IN (520) THEN XCV22 = 1;
ELSE IF MDRG IN (522) THEN XCV23 = 1;
ELSE IF MDRG IN (524) THEN XCV24 = 1;
ELSE IF MDRG IN (531) THEN XCV25 = 1;
ELSE IF MDRG IN (601) THEN XCV26 = 1;
ELSE IF MDRG IN (602) THEN XCV27 = 1;
ELSE IF MDRG IN (604) THEN XCV28 = 1;
ELSE IF MDRG IN (611) THEN XCV29 = 1;
ELSE IF MDRG IN (613) THEN XCV30 = 1;
ELSE IF MDRG IN (615) THEN XCV31 = 1;
ELSE IF MDRG IN (619) THEN XCV32 = 1;
ELSE IF MDRG IN (620) THEN XCV33 = 1;
ELSE IF MDRG IN (621) THEN XCV34 = 1;
ELSE IF MDRG IN (701) THEN XCV35 = 1;
ELSE IF MDRG IN (705) THEN XCV36 = 1;
ELSE IF MDRG IN (708) THEN XCV37 = 1;
ELSE IF MDRG IN (710) THEN XCV38 = 1;
ELSE IF MDRG IN (711) THEN XCV39 = 1;
ELSE IF MDRG IN (805) THEN XCV40 = 1;
ELSE IF MDRG IN (807) THEN XCV41 = 1;
ELSE IF MDRG IN (832) THEN XCV42 = 1;
ELSE IF MDRG IN (901) THEN XCV43 = 1;
ELSE IF MDRG IN (910) THEN XCV44 = 1;
ELSE IF MDRG IN (1007) THEN XCV45 = 1;
ELSE IF MDRG IN (1008) THEN XCV46 = 1;
ELSE IF MDRG IN (1109) THEN XCV47 = 1;
ELSE IF MDRG IN (1110) THEN XCV48 = 1;
ELSE IF MDRG IN (1113) THEN XCV49 = 1;
ELSE IF MDRG IN (1604) THEN XCV50 = 1;
ELSE IF MDRG IN (1801) THEN XCV51 = 1;
ELSE IF MDRG IN (1802) THEN XCV52 = 1;
ELSE IF MDRG IN (1807) THEN XCV53 = 1;
ELSE IF MDRG IN (1808) THEN XCV54 = 1;
ELSE IF MDRG IN (2019) THEN XCV55 = 1;
ELSE IF MDRG IN (2104) THEN XCV56 = 1;
ELSE IF MDRG IN (2107) THEN XCV57 = 1;
ELSE IF MDRG IN (2302) THEN XCV58 = 1;
ELSE IF MDRG IN (2408) THEN XCV59 = 1;

ELSE IF MDC IN (1) THEN XCV60 = 1;
ELSE IF MDC IN (4) THEN XCV61 = 1;
ELSE IF MDC IN (5) THEN XCV62 = 1;
ELSE IF MDC IN (6) THEN XCV63 = 1;
ELSE IF MDC IN (7) THEN XCV64 = 1;
ELSE IF MDC IN (8) THEN XCV65 = 1;
ELSE IF MDC IN (9) THEN XCV66 = 1;
ELSE IF MDC IN (10) THEN XCV67 = 1;
ELSE IF MDC IN (11) THEN XCV68 = 1;
ELSE IF MDC IN (13) THEN XCV69 = 1;
ELSE IF MDC IN (16) THEN XCV70 = 1;
ELSE IF MDC IN (18) THEN XCV71 = 1;
ELSE IF MDC IN (21) THEN XCV72 = 1;
ELSE IF MDC IN (22) THEN XCV73 = 1;
ELSE IF MDC IN (23) THEN XCV74 = 1;
ELSE IF MDC IN (24) THEN XCV75 = 1;

IF TRNSFER THEN XCV76 = 1;
IF NOPOUB04 THEN XCV77 = 1;
IF NOPRDAY THEN XCV78 = 1;

IF CHF THEN XCV79 = 1;
IF VALVE THEN XCV80 = 1;
IF HTN_C THEN XCV81 = 1;
IF PARA  THEN XCV82 = 1;
IF NEURO  THEN XCV83 = 1;
IF CHRNLUNG  THEN XCV84 = 1;
IF RENLFAIL THEN XCV85 = 1;
IF LIVER THEN XCV86 = 1;
IF ARTH THEN XCV87 = 1;
IF OBESE THEN XCV88 = 1;
IF WGHTLOSS THEN XCV89 = 1;
IF BLDLOSS THEN XCV90 = 1;
IF ANEMDEF THEN XCV91 = 1;
IF DRUG THEN XCV92 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF MDRG IN (101) THEN XCV1 = 1;
ELSE IF MDRG IN (102) THEN XCV2 = 1;
ELSE IF MDRG IN (103) THEN XCV3 = 1;
ELSE IF MDRG IN (114) THEN XCV4 = 1;
ELSE IF MDRG IN (118) THEN XCV5 = 1;
ELSE IF MDRG IN (128) THEN XCV6 = 1;
ELSE IF MDRG IN (401) THEN XCV7 = 1;
ELSE IF MDRG IN (402) THEN XCV8 = 1;
ELSE IF MDRG IN (404) THEN XCV9 = 1;
ELSE IF MDRG IN (408) THEN XCV10 = 1;
ELSE IF MDRG IN (409) THEN XCV11 = 1;
ELSE IF MDRG IN (410) THEN XCV12 = 1;
ELSE IF MDRG IN (416) THEN XCV13 = 1;
ELSE IF MDRG IN (502) THEN XCV14 = 1;
ELSE IF MDRG IN (503) THEN XCV15 = 1;
ELSE IF MDRG IN (504) THEN XCV16 = 1;
ELSE IF MDRG IN (507) THEN XCV17 = 1;
ELSE IF MDRG IN (508) THEN XCV18 = 1;
ELSE IF MDRG IN (509) THEN XCV19 = 1;
ELSE IF MDRG IN (511) THEN XCV20 = 1;
ELSE IF MDRG IN (514) THEN XCV21 = 1;
ELSE IF MDRG IN (520) THEN XCV22 = 1;
ELSE IF MDRG IN (522) THEN XCV23 = 1;
ELSE IF MDRG IN (524) THEN XCV24 = 1;
ELSE IF MDRG IN (531) THEN XCV25 = 1;
ELSE IF MDRG IN (601) THEN XCV26 = 1;
ELSE IF MDRG IN (602) THEN XCV27 = 1;
ELSE IF MDRG IN (604) THEN XCV28 = 1;
ELSE IF MDRG IN (611) THEN XCV29 = 1;
ELSE IF MDRG IN (613) THEN XCV30 = 1;
ELSE IF MDRG IN (615) THEN XCV31 = 1;
ELSE IF MDRG IN (619) THEN XCV32 = 1;
ELSE IF MDRG IN (620) THEN XCV33 = 1;
ELSE IF MDRG IN (621) THEN XCV34 = 1;
ELSE IF MDRG IN (701) THEN XCV35 = 1;
ELSE IF MDRG IN (705) THEN XCV36 = 1;
ELSE IF MDRG IN (708) THEN XCV37 = 1;
ELSE IF MDRG IN (710) THEN XCV38 = 1;
ELSE IF MDRG IN (711) THEN XCV39 = 1;
ELSE IF MDRG IN (805) THEN XCV40 = 1;
ELSE IF MDRG IN (807) THEN XCV41 = 1;
ELSE IF MDRG IN (832) THEN XCV42 = 1;
ELSE IF MDRG IN (901) THEN XCV43 = 1;
ELSE IF MDRG IN (910) THEN XCV44 = 1;
ELSE IF MDRG IN (1007) THEN XCV45 = 1;
ELSE IF MDRG IN (1008) THEN XCV46 = 1;
ELSE IF MDRG IN (1109) THEN XCV47 = 1;
ELSE IF MDRG IN (1110) THEN XCV48 = 1;
ELSE IF MDRG IN (1113) THEN XCV49 = 1;
ELSE IF MDRG IN (1604) THEN XCV50 = 1;
ELSE IF MDRG IN (1801) THEN XCV51 = 1;
ELSE IF MDRG IN (1802) THEN XCV52 = 1;
ELSE IF MDRG IN (1807) THEN XCV53 = 1;
ELSE IF MDRG IN (1808) THEN XCV54 = 1;
ELSE IF MDRG IN (2019) THEN XCV55 = 1;
ELSE IF MDRG IN (2104) THEN XCV56 = 1;
ELSE IF MDRG IN (2107) THEN XCV57 = 1;
ELSE IF MDRG IN (2302) THEN XCV58 = 1;
ELSE IF MDRG IN (2408) THEN XCV59 = 1;

ELSE IF MDC IN (1) THEN XCV60 = 1;
ELSE IF MDC IN (4) THEN XCV61 = 1;
ELSE IF MDC IN (5) THEN XCV62 = 1;
ELSE IF MDC IN (6) THEN XCV63 = 1;
ELSE IF MDC IN (7) THEN XCV64 = 1;
ELSE IF MDC IN (8) THEN XCV65 = 1;
ELSE IF MDC IN (9) THEN XCV66 = 1;
ELSE IF MDC IN (10) THEN XCV67 = 1;
ELSE IF MDC IN (11) THEN XCV68 = 1;
ELSE IF MDC IN (13) THEN XCV69 = 1;
ELSE IF MDC IN (16) THEN XCV70 = 1;
ELSE IF MDC IN (18) THEN XCV71 = 1;
ELSE IF MDC IN (21) THEN XCV72 = 1;
ELSE IF MDC IN (22) THEN XCV73 = 1;
ELSE IF MDC IN (23) THEN XCV74 = 1;
ELSE IF MDC IN (24) THEN XCV75 = 1;

ELSE                     XIN2 = 1;

IF TRNSFER THEN XCV76 = 1;
IF NOPOUB04 THEN XCV77 = 1;
IF NOPRDAY THEN XCV78 = 1;

IF XHF  THEN XCV79 = 1;
IF XALVE  THEN XCV80 = 1;
IF XTN_C THEN XCV81 = 1;
IF XARA  THEN XCV82 = 1;
IF XEURO  THEN XCV83 = 1;
IF XHRNLUNG  THEN XCV84 = 1;
IF XENLFAIL  THEN XCV85 = 1;
IF XIVER  THEN XCV86 = 1;
IF XRTH  THEN XCV87 = 1;
IF XBESE THEN XCV88 = 1;
IF XGHTLOSS  THEN XCV89 = 1;
IF XLDLOSS  THEN XCV90 = 1;
IF XNEMDEF  THEN XCV91 = 1;
IF XRUG THEN XCV92 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. ;

%mend MakeVars_PSI_07;


%macro MakeVars_PSI_08 ;
IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. P1  
        XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

XIN1 = 1;

IF MDC IN (5) THEN XCV1 = 1;
ELSE XIN2 = 1;

XCV2 = (UNIFORM(1)<=0.5);

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. ;

%mend MakeVars_PSI_08;


%macro MakeVars_PSI_09 ;
IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. P1 XIN1 XIN2 
       XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;


XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF SEXCAT IN (2)      THEN XCV1 = 1;

IF MDRG IN (107) THEN XCV2 = 1;
ELSE IF MDRG IN (302) THEN XCV3 = 1;
ELSE IF MDRG IN (401) THEN XCV4 = 1;
ELSE IF MDRG IN (503) THEN XCV5 = 1;
ELSE IF MDRG IN (504) THEN XCV6 = 1;
ELSE IF MDRG IN (507) THEN XCV7 = 1;
ELSE IF MDRG IN (508) THEN XCV8 = 1;
ELSE IF MDRG IN (509) THEN XCV9 = 1;
ELSE IF MDRG IN (514) THEN XCV10 = 1;
ELSE IF MDRG IN (519) THEN XCV11 = 1;
ELSE IF MDRG IN (601) THEN XCV12 = 1;
ELSE IF MDRG IN (602) THEN XCV13 = 1;
ELSE IF MDRG IN (603) THEN XCV14 = 1;
ELSE IF MDRG IN (604) THEN XCV15 = 1;
ELSE IF MDRG IN (606) THEN XCV16 = 1;
ELSE IF MDRG IN (609) THEN XCV17 = 1;
ELSE IF MDRG IN (610) THEN XCV18 = 1;
ELSE IF MDRG IN (701) THEN XCV19 = 1;
ELSE IF MDRG IN (704) THEN XCV20 = 1;
ELSE IF MDRG IN (705) THEN XCV21 = 1;
ELSE IF MDRG IN (803) THEN XCV22 = 1;
ELSE IF MDRG IN (805) THEN XCV23 = 1;
ELSE IF MDRG IN (807) THEN ZIN2 = 1;
ELSE IF MDRG IN (808) THEN XCV24 = 1;
ELSE IF MDRG IN (902) THEN XCV25 = 1;
ELSE IF MDRG IN (903) THEN XCV26 = 1;
ELSE IF MDRG IN (904) THEN XCV27 = 1;
ELSE IF MDRG IN (1003) THEN XCV28 = 1;
ELSE IF MDRG IN (1005) THEN XCV29 = 1;
ELSE IF MDRG IN (1101) THEN XCV30 = 1;
ELSE IF MDRG IN (1103) THEN XCV31 = 1;
ELSE IF MDRG IN (1105) THEN XCV32 = 1;
ELSE IF MDRG IN (1109) THEN XCV33 = 1;
ELSE IF MDRG IN (1204) THEN XCV34 = 1;
ELSE IF MDRG IN (1303) THEN XCV35 = 1;
ELSE IF MDRG IN (1304) THEN XCV36 = 1;
ELSE IF MDRG IN (1707) THEN XCV37 = 1;
ELSE IF MDRG IN (1801) THEN XCV38 = 1;
ELSE IF MDRG IN (1802) THEN XCV39 = 1;
ELSE IF MDRG IN (2104) THEN XCV40 = 1;
ELSE IF MDRG IN (2408) THEN XCV41 = 1;
ELSE IF MDRG IN (7702) THEN XCV42 = 1;

ELSE IF MDC IN (1) THEN XCV43 = 1;
ELSE IF MDC IN (3) THEN XCV44 = 1;
ELSE IF MDC IN (4) THEN XCV45 = 1;
ELSE IF MDC IN (5) THEN XCV46 = 1;
ELSE IF MDC IN (6) THEN XCV47 = 1;
ELSE IF MDC IN (7) THEN XCV48 = 1;
ELSE IF MDC IN (8) THEN XCV49 = 1;
ELSE IF MDC IN (9) THEN XCV50 = 1;
ELSE IF MDC IN (10) THEN XCV51 = 1;
ELSE IF MDC IN (11) THEN XCV52 = 1;
ELSE IF MDC IN (12) THEN XCV53 = 1;
ELSE IF MDC IN (13) THEN XCV54 = 1;
ELSE IF MDC IN (16) THEN XCV55 = 1;
ELSE IF MDC IN (17) THEN XCV56 = 1;
ELSE IF MDC IN (18) THEN XCV57 = 1;
ELSE IF MDC IN (21) THEN XCV58 = 1;
ELSE IF MDC IN (24) THEN XCV59 = 1;

ELSE                     XCV60 = 1;

IF TRNSFER THEN XCV61 = 1;
IF NOPOUB04 THEN XCV62 = 1;

IF CHF THEN XCV63 = 1;
IF VALVE THEN XCV64 = 1;
IF PERIVASC THEN XCV65 = 1;
IF HTN_C THEN XCV66 = 1;
IF DM  THEN XCV67 = 1;
IF RENLFAIL THEN XCV68 = 1;
IF LIVER THEN XCV69 = 1;
IF TUMOR THEN XCV70 = 1;
IF ANEMDEF THEN XCV71 = 1;
IF DRUG THEN XCV72 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF SEXCAT IN (2)        THEN XCV1 = 1;

XIN1 = 1;

IF MDRG IN (107) THEN XCV2 = 1;
ELSE IF MDRG IN (302) THEN XCV3 = 1;
ELSE IF MDRG IN (401) THEN XCV4 = 1;
ELSE IF MDRG IN (503) THEN XCV5 = 1;
ELSE IF MDRG IN (504) THEN XCV6 = 1;
ELSE IF MDRG IN (507) THEN XCV7 = 1;
ELSE IF MDRG IN (508) THEN XCV8 = 1;
ELSE IF MDRG IN (509) THEN XCV9 = 1;
ELSE IF MDRG IN (514) THEN XCV10 = 1;
ELSE IF MDRG IN (519) THEN XCV11 = 1;
ELSE IF MDRG IN (601) THEN XCV12 = 1;
ELSE IF MDRG IN (602) THEN XCV13 = 1;
ELSE IF MDRG IN (603) THEN XCV14 = 1;
ELSE IF MDRG IN (604) THEN XCV15 = 1;
ELSE IF MDRG IN (606) THEN XCV16 = 1;
ELSE IF MDRG IN (609) THEN XCV17 = 1;
ELSE IF MDRG IN (610) THEN XCV18 = 1;
ELSE IF MDRG IN (701) THEN XCV19 = 1;
ELSE IF MDRG IN (704) THEN XCV20 = 1;
ELSE IF MDRG IN (705) THEN XCV21 = 1;
ELSE IF MDRG IN (803) THEN XCV22 = 1;
ELSE IF MDRG IN (805) THEN XCV23 = 1;
ELSE IF MDRG IN (807) THEN XIN2 = 1;
ELSE IF MDRG IN (808) THEN XCV24 = 1;
ELSE IF MDRG IN (902) THEN XCV25 = 1;
ELSE IF MDRG IN (903) THEN XCV26 = 1;
ELSE IF MDRG IN (904) THEN XCV27 = 1;
ELSE IF MDRG IN (1003) THEN XCV28 = 1;
ELSE IF MDRG IN (1005) THEN XCV29 = 1;
ELSE IF MDRG IN (1101) THEN XCV30 = 1;
ELSE IF MDRG IN (1103) THEN XCV31 = 1;
ELSE IF MDRG IN (1105) THEN XCV32 = 1;
ELSE IF MDRG IN (1109) THEN XCV33 = 1;
ELSE IF MDRG IN (1204) THEN XCV34 = 1;
ELSE IF MDRG IN (1303) THEN XCV35 = 1;
ELSE IF MDRG IN (1304) THEN XCV36 = 1;
ELSE IF MDRG IN (1707) THEN XCV37 = 1;
ELSE IF MDRG IN (1801) THEN XCV38 = 1;
ELSE IF MDRG IN (1802) THEN XCV39 = 1;
ELSE IF MDRG IN (2104) THEN XCV40 = 1;
ELSE IF MDRG IN (2408) THEN XCV41 = 1;
ELSE IF MDRG IN (7702) THEN XCV42 = 1;

ELSE IF MDC IN (1) THEN XCV43 = 1;
ELSE IF MDC IN (3) THEN XCV44 = 1;
ELSE IF MDC IN (4) THEN XCV45 = 1;
ELSE IF MDC IN (5) THEN XCV46 = 1;
ELSE IF MDC IN (6) THEN XCV47 = 1;
ELSE IF MDC IN (7) THEN XCV48 = 1;
ELSE IF MDC IN (8) THEN XCV49 = 1;
ELSE IF MDC IN (9) THEN XCV50 = 1;
ELSE IF MDC IN (10) THEN XCV51 = 1;
ELSE IF MDC IN (11) THEN XCV52 = 1;
ELSE IF MDC IN (12) THEN XCV53 = 1;
ELSE IF MDC IN (13) THEN XCV54 = 1;
ELSE IF MDC IN (16) THEN XCV55 = 1;
ELSE IF MDC IN (17) THEN XCV56 = 1;
ELSE IF MDC IN (18) THEN XCV57 = 1;
ELSE IF MDC IN (21) THEN XCV58 = 1;
ELSE IF MDC IN (24) THEN XCV59 = 1;

ELSE                     XCV60 = 1;

IF TRNSFER THEN XCV61 = 1;
IF NOPOUB04 THEN XCV62 = 1;

IF XHF  THEN XCV63 = 1;
IF XALVE  THEN XCV64 = 1;
IF XERIVASC  THEN XCV65 = 1;
IF XTN_C THEN XCV66 = 1;
IF XM  THEN XCV67 = 1;
IF XENLFAIL  THEN XCV68 = 1;
IF XIVER  THEN XCV69 = 1;
IF XUMOR  THEN XCV70 = 1;
IF XNEMDEF  THEN XCV71 = 1;
IF XRUG THEN XCV72 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. ;

%mend MakeVars_PSI_09 ;



%macro MakeVars_PSI_10 ;
IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. P1 ZIN1 ZIN2 XIN1 XIN2 
       XCV1-XCV&CV. 3;

IF TPPS&PS. IN (0) AND QPPS&PS. IN (1) THEN QPPS&PS. = 0;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

ZIN1 = .; ZIN2=.;

%if &USEPOA=0 %then %do ;
IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5,6,7,8,9,10,11,12) THEN XCV2 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14,15,16) THEN XCV3 = 1;
ELSE IF POPCAT IN (17,18) THEN XCV4 = 1;

IF MDRG IN (503) THEN XCV5 = 1;
ELSE IF MDRG IN (508) THEN XCV6 = 1;
ELSE IF MDRG IN (602) THEN ZIN2 = 1;

ELSE IF MDC IN (4) THEN XCV7 = 1;
ELSE IF MDC IN (7) THEN XCV8 = 1;
ELSE IF MDC IN (8) THEN XCV9 = 1;
ELSE                    XCV10 = 1;

IF VALVE THEN XCV11 = 1;
IF OBESE THEN XCV12 = 1;
IF RENLFAIL THEN XCV13 = 1;
IF PERIVASC THEN XCV14 = 1;
IF CHF THEN XCV15 = 1;
IF LIVER THEN XCV16 = 1;
IF DMCX THEN XCV17 = 1;
IF HTN_C THEN XCV18 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5,6,7,8,9,10,11,12) THEN XCV2 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14,15,16) THEN XCV3 = 1;
ELSE IF POPCAT IN (17,18) THEN XCV4 = 1;

IF MDRG IN (503) THEN XCV5 = 1;
ELSE IF MDRG IN (508) THEN XCV6 = 1;
ELSE IF MDRG IN (602) THEN XIN2 = 1;

ELSE IF MDC IN (4) THEN XCV7 = 1;
ELSE IF MDC IN (7) THEN XCV8 = 1;
ELSE IF MDC IN (8) THEN XCV9 = 1;

ELSE                     XCV10 = 1;

IF XALVE  THEN XCV11 = 1;
IF XBESE THEN XCV12 = 1;
IF XENLFAIL  THEN XCV13 = 1;
IF XERIVASC  THEN XCV14 = 1;
IF XHF  THEN XCV15 = 1;
IF XIVER  THEN XCV16 = 1;
IF XMCX THEN XCV17 = 1;
IF XTN_C THEN XCV18 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;

%mend MakeVars_PSI_10 ;


%macro MakeVars_PSI_11 ;
IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. P1 XIN1 XIN2 
       XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;

IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5) THEN XCV2 = 1;
ELSE IF POPCAT IN (6) THEN XCV3 = 1;
ELSE IF POPCAT IN (7) THEN XCV4 = 1;
ELSE IF POPCAT IN (8) THEN XCV5 = 1;
ELSE IF POPCAT IN (9) THEN XCV6 = 1;
ELSE IF POPCAT IN (10) THEN XCV7 = 1;
ELSE IF POPCAT IN (11) THEN XCV8 = 1;
ELSE IF POPCAT IN (12) THEN XCV9 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV10 = 1;
ELSE IF POPCAT IN (15) THEN XCV11 = 1;
ELSE IF POPCAT IN (16) THEN XCV12 = 1;
ELSE IF POPCAT IN (17) THEN XCV13 = 1;
ELSE IF POPCAT IN (18) THEN XCV14 = 1;

IF MDRG IN (101) THEN XCV15 = 1;
ELSE IF MDRG IN (102) THEN XCV16 = 1;
ELSE IF MDRG IN (103) THEN XCV17 = 1;
ELSE IF MDRG IN (107) THEN XCV18 = 1;
ELSE IF MDRG IN (601) THEN XCV19 = 1;
ELSE IF MDRG IN (602) THEN XCV20 = 1;
ELSE IF MDRG IN (603) THEN XCV21 = 1;
ELSE IF MDRG IN (604) THEN XCV22 = 1;
ELSE IF MDRG IN (607) THEN XCV23 = 1;
ELSE IF MDRG IN (610) THEN XCV24 = 1;
ELSE IF MDRG IN (611) THEN XCV25 = 1;
ELSE IF MDRG IN (701) THEN XCV26 = 1;
ELSE IF MDRG IN (704) THEN XCV27 = 1;
ELSE IF MDRG IN (705) THEN XCV28 = 1;
ELSE IF MDRG IN (801) THEN XCV29 = 1;
ELSE IF MDRG IN (802) THEN XCV30 = 1;
ELSE IF MDRG IN (803) THEN XCV31 = 1;
ELSE IF MDRG IN (805) THEN XCV32 = 1;
ELSE IF MDRG IN (806) THEN XCV33 = 1;
ELSE IF MDRG IN (807) THEN ZIN2 = 1;
ELSE IF MDRG IN (808) THEN XCV34 = 1;
ELSE IF MDRG IN (811) THEN XCV35 = 1;
ELSE IF MDRG IN (815) THEN XCV36 = 1;
ELSE IF MDRG IN (826) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1001) THEN XCV39 = 1;
ELSE IF MDRG IN (1003) THEN XCV40 = 1;
ELSE IF MDRG IN (1102) THEN XCV41 = 1;
ELSE IF MDRG IN (1103) THEN XCV42 = 1;
ELSE IF MDRG IN (1104) THEN XCV43 = 1;
ELSE IF MDRG IN (1201) THEN XCV44 = 1;
ELSE IF MDRG IN (1302) THEN XCV45 = 1;
ELSE IF MDRG IN (1303) THEN XCV46 = 1;
ELSE IF MDRG IN (1304) THEN XCV47 = 1;
ELSE IF MDRG IN (1707) THEN XCV48 = 1;
ELSE IF MDRG IN (1709) THEN XCV49 = 1;
ELSE IF MDRG IN (1801) THEN XCV50 = 1;
ELSE IF MDRG IN (1802) THEN XCV51 = 1;
ELSE IF MDRG IN (2104) THEN XCV52 = 1;
ELSE IF MDRG IN (7702) THEN XCV53 = 1;

ELSE IF MDC IN (1) THEN XCV54 = 1;
ELSE IF MDC IN (3) THEN XCV55 = 1;
ELSE IF MDC IN (6) THEN XCV56 = 1;
ELSE IF MDC IN (7) THEN XCV57 = 1;
ELSE IF MDC IN (8) THEN XCV58 = 1;
ELSE IF MDC IN (10) THEN XCV59 = 1;
ELSE IF MDC IN (11) THEN XCV60 = 1;
ELSE IF MDC IN (12) THEN XCV61 = 1;
ELSE IF MDC IN (13) THEN XCV62 = 1;
ELSE IF MDC IN (16) THEN XCV63 = 1;
ELSE IF MDC IN (17) THEN XCV64 = 1;
ELSE IF MDC IN (21) THEN XCV65 = 1;
ELSE                     XCV66 = 1;

IF TRNSFER THEN XCV67 = 1;
IF NOPOUB04 THEN XCV68 = 1;
IF NOPRDAY THEN XCV69 = 1;

IF CHF THEN XCV70 = 1;
IF VALVE THEN XCV71 = 1;
IF PULMCIRC THEN XCV72 = 1;
IF HTN_C THEN XCV73 = 1;
IF PARA  THEN XCV74 = 1;
IF NEURO  THEN XCV75 = 1;
IF CHRNLUNG  THEN XCV76 = 1;
IF DM  THEN XCV77 = 1;
IF HYPOTHY THEN XCV78 = 1;
IF RENLFAIL THEN XCV79 = 1;
IF LIVER THEN XCV80 = 1;
IF METS THEN XCV81 = 1;
IF OBESE THEN XCV82 = 1;
IF WGHTLOSS THEN XCV83 = 1;
IF ANEMDEF THEN XCV84 = 1;
IF ALCOHOL THEN XCV85 = 1;
IF DRUG THEN XCV86 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5) THEN XCV2 = 1;
ELSE IF POPCAT IN (6) THEN XCV3 = 1;
ELSE IF POPCAT IN (7) THEN XCV4 = 1;
ELSE IF POPCAT IN (8) THEN XCV5 = 1;
ELSE IF POPCAT IN (9) THEN XCV6 = 1;
ELSE IF POPCAT IN (10) THEN XCV7 = 1;
ELSE IF POPCAT IN (11) THEN XCV8 = 1;
ELSE IF POPCAT IN (12) THEN XCV9 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14) THEN XCV10 = 1;
ELSE IF POPCAT IN (15) THEN XCV11 = 1;
ELSE IF POPCAT IN (16) THEN XCV12 = 1;
ELSE IF POPCAT IN (17) THEN XCV13 = 1;
ELSE IF POPCAT IN (18) THEN XCV14 = 1;

IF MDRG IN (101) THEN XCV15 = 1;
ELSE IF MDRG IN (102) THEN XCV16 = 1;
ELSE IF MDRG IN (103) THEN XCV17 = 1;
ELSE IF MDRG IN (107) THEN XCV18 = 1;
ELSE IF MDRG IN (601) THEN XCV19 = 1;
ELSE IF MDRG IN (602) THEN XCV20 = 1;
ELSE IF MDRG IN (603) THEN XCV21 = 1;
ELSE IF MDRG IN (604) THEN XCV22 = 1;
ELSE IF MDRG IN (607) THEN XCV23 = 1;
ELSE IF MDRG IN (610) THEN XCV24 = 1;
ELSE IF MDRG IN (611) THEN XCV25 = 1;
ELSE IF MDRG IN (701) THEN XCV26 = 1;
ELSE IF MDRG IN (704) THEN XCV27 = 1;
ELSE IF MDRG IN (705) THEN XCV28 = 1;
ELSE IF MDRG IN (801) THEN XCV29 = 1;
ELSE IF MDRG IN (802) THEN XCV30 = 1;
ELSE IF MDRG IN (803) THEN XCV31 = 1;
ELSE IF MDRG IN (805) THEN XCV32 = 1;
ELSE IF MDRG IN (806) THEN XCV33 = 1;
ELSE IF MDRG IN (807) THEN XIN2 = 1;
ELSE IF MDRG IN (808) THEN XCV34 = 1;
ELSE IF MDRG IN (811) THEN XCV35 = 1;
ELSE IF MDRG IN (815) THEN XCV36 = 1;
ELSE IF MDRG IN (826) THEN XCV37 = 1;
ELSE IF MDRG IN (901) THEN XCV38 = 1;
ELSE IF MDRG IN (1001) THEN XCV39 = 1;
ELSE IF MDRG IN (1003) THEN XCV40 = 1;
ELSE IF MDRG IN (1102) THEN XCV41 = 1;
ELSE IF MDRG IN (1103) THEN XCV42 = 1;
ELSE IF MDRG IN (1104) THEN XCV43 = 1;
ELSE IF MDRG IN (1201) THEN XCV44 = 1;
ELSE IF MDRG IN (1302) THEN XCV45 = 1;
ELSE IF MDRG IN (1303) THEN XCV46 = 1;
ELSE IF MDRG IN (1304) THEN XCV47 = 1;
ELSE IF MDRG IN (1707) THEN XCV48 = 1;
ELSE IF MDRG IN (1709) THEN XCV49 = 1;
ELSE IF MDRG IN (1801) THEN XCV50 = 1;
ELSE IF MDRG IN (1802) THEN XCV51 = 1;
ELSE IF MDRG IN (2104) THEN XCV52 = 1;
ELSE IF MDRG IN (7702) THEN XCV53 = 1;

ELSE IF MDC IN (1) THEN XCV54 = 1;
ELSE IF MDC IN (3) THEN XCV55 = 1;
ELSE IF MDC IN (6) THEN XCV56 = 1;
ELSE IF MDC IN (7) THEN XCV57 = 1;
ELSE IF MDC IN (8) THEN XCV58 = 1;
ELSE IF MDC IN (10) THEN XCV59 = 1;
ELSE IF MDC IN (11) THEN XCV60 = 1;
ELSE IF MDC IN (12) THEN XCV61 = 1;
ELSE IF MDC IN (13) THEN XCV62 = 1;
ELSE IF MDC IN (16) THEN XCV63 = 1;
ELSE IF MDC IN (17) THEN XCV64 = 1;
ELSE IF MDC IN (21) THEN XCV65 = 1;
ELSE                     XCV66 = 1;

IF TRNSFER THEN XCV67 = 1;
IF NOPOUB04 THEN XCV68 = 1;
IF NOPRDAY THEN XCV69 = 1;

IF XHF  THEN XCV70 = 1;
IF XALVE  THEN XCV71 = 1;
IF XULMCIRC  THEN XCV72 = 1;
IF XTN_C THEN XCV73 = 1;
IF XARA  THEN XCV74 = 1;
IF XEURO  THEN XCV75 = 1;
IF XHRNLUNG  THEN XCV76 = 1;
IF XM  THEN XCV77 = 1;
IF XYPOTHY  THEN XCV78 = 1;
IF XENLFAIL  THEN XCV79 = 1;
IF XIVER  THEN XCV80 = 1;
IF XETS  THEN XCV81 = 1;
IF XBESE THEN XCV82 = 1;
IF XGHTLOSS  THEN XCV83 = 1;
IF XNEMDEF  THEN XCV84 = 1;
IF XLCOHOL  THEN XCV85 = 1;
IF XRUG THEN XCV86 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;


retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;


%mend MakeVars_PSI_11 ;


%macro MakeVars_PSI_12 ;
IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. P1  XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11, 12) THEN XCV7 = 1;
ELSE IF POPCAT IN (14, 15) THEN XCV8 = 1;
ELSE IF POPCAT IN (16) THEN XCV9 = 1;
ELSE IF POPCAT IN (17) THEN XCV10 = 1;
ELSE IF POPCAT IN (18) THEN XCV11 = 1;

IF MDRG IN (101) THEN XCV12 = 1;
ELSE IF MDRG IN (102) THEN XCV13 = 1;
ELSE IF MDRG IN (103) THEN XCV14 = 1;
ELSE IF MDRG IN (104) THEN XCV15 = 1;
ELSE IF MDRG IN (105) THEN XCV16 = 1;
ELSE IF MDRG IN (107) THEN XCV17 = 1;
ELSE IF MDRG IN (108) THEN XCV18 = 1;
ELSE IF MDRG IN (401) THEN XCV19 = 1;
ELSE IF MDRG IN (402) THEN XCV20 = 1;
ELSE IF MDRG IN (502) THEN XCV21 = 1;
ELSE IF MDRG IN (503) THEN XCV22 = 1;
ELSE IF MDRG IN (505) THEN XCV23 = 1;
ELSE IF MDRG IN (507) THEN XCV24 = 1;
ELSE IF MDRG IN (508) THEN XCV25 = 1;
ELSE IF MDRG IN (509) THEN XCV26 = 1;
ELSE IF MDRG IN (511) THEN XCV27 = 1;
ELSE IF MDRG IN (514) THEN XCV28 = 1;
ELSE IF MDRG IN (519) THEN XCV29 = 1;
ELSE IF MDRG IN (601) THEN XCV30 = 1;
ELSE IF MDRG IN (602) THEN XCV31 = 1;
ELSE IF MDRG IN (603) THEN XCV32 = 1;
ELSE IF MDRG IN (604) THEN XCV33 = 1;
ELSE IF MDRG IN (611) THEN XCV34 = 1;
ELSE IF MDRG IN (701) THEN XCV35 = 1;
ELSE IF MDRG IN (705) THEN XCV36 = 1;
ELSE IF MDRG IN (801) THEN XCV37 = 1;
ELSE IF MDRG IN (802) THEN XCV38 = 1;
ELSE IF MDRG IN (804) THEN XCV39 = 1;
ELSE IF MDRG IN (805) THEN XCV40 = 1;
ELSE IF MDRG IN (806) THEN XCV41 = 1;
ELSE IF MDRG IN (807) THEN XCV42 = 1;
ELSE IF MDRG IN (808) THEN XCV43 = 1;
ELSE IF MDRG IN (811) THEN XCV44 = 1;
ELSE IF MDRG IN (815) THEN XCV45 = 1;
ELSE IF MDRG IN (1001) THEN XCV46 = 1;
ELSE IF MDRG IN (1003) THEN XCV47 = 1;
ELSE IF MDRG IN (1006) THEN XCV48 = 1;
ELSE IF MDRG IN (1101) THEN XCV49 = 1;
ELSE IF MDRG IN (1102) THEN XCV50 = 1;
ELSE IF MDRG IN (1103) THEN XCV51 = 1;
ELSE IF MDRG IN (1104) THEN XCV52 = 1;
ELSE IF MDRG IN (1107) THEN XCV53 = 1;
ELSE IF MDRG IN (1109) THEN XCV54 = 1;
ELSE IF MDRG IN (1201) THEN XCV55 = 1;
ELSE IF MDRG IN (1301) THEN XCV56 = 1;
ELSE IF MDRG IN (1302) THEN XCV57 = 1;
ELSE IF MDRG IN (1303) THEN XCV58 = 1;
ELSE IF MDRG IN (1304) THEN XCV59 = 1;
ELSE IF MDRG IN (1707) THEN XCV60 = 1;
ELSE IF MDRG IN (1708) THEN XCV61 = 1;
ELSE IF MDRG IN (1709) THEN XCV62 = 1;
ELSE IF MDRG IN (1801) THEN XCV63 = 1;
ELSE IF MDRG IN (1802) THEN XCV64 = 1;
ELSE IF MDRG IN (2104) THEN XCV65 = 1;
ELSE IF MDRG IN (2406) THEN XCV66 = 1;
ELSE IF MDRG IN (2407) THEN XCV67 = 1;
ELSE IF MDRG IN (2408) THEN XCV68 = 1;
ELSE IF MDRG IN (2501) THEN XCV69 = 1;
ELSE IF MDRG IN (7701) THEN XCV70 = 1;
ELSE IF MDRG IN (7702) THEN XCV71 = 1;

ELSE IF MDC IN (1) THEN XCV72 = 1;
ELSE IF MDC IN (4) THEN XCV73 = 1;
ELSE IF MDC IN (5) THEN XCV74 = 1;
ELSE IF MDC IN (7) THEN XCV75 = 1;
ELSE IF MDC IN (11) THEN XCV76 = 1;
ELSE IF MDC IN (12) THEN XCV77 = 1;
ELSE IF MDC IN (16) THEN XCV78 = 1;
ELSE IF MDC IN (17) THEN XCV79 = 1;
ELSE IF MDC IN (18) THEN XCV80 = 1;
ELSE IF MDC IN (21) THEN XCV81 = 1;
ELSE IF MDC IN (22) THEN XCV82 = 1;
ELSE IF MDC IN (24) THEN XCV83 = 1;
ELSE IF MDC IN (25) THEN XCV84 = 1;
*ELSE                     XCVXX = 1;

IF TRNSFER              THEN XCV85 = 1;

IF CHF THEN XCV86 = 1;
IF VALVE THEN XCV87 = 1;
IF PULMCIRC THEN XCV88 = 1;
IF PERIVASC THEN XCV89 = 1;
IF HTN_C THEN XCV90 = 1;
IF PARA  THEN XCV91 = 1;
IF NEURO  THEN XCV92 = 1;
IF CHRNLUNG  THEN XCV93 = 1;
IF DM  THEN XCV94 = 1;
IF HYPOTHY THEN XCV95 = 1;
IF RENLFAIL THEN XCV96 = 1;
IF AIDS THEN XCV97 = 1;
IF LYMPH THEN XCV98 = 1;
IF METS THEN XCV99 = 1;
IF TUMOR THEN XCV100 = 1;
IF OBESE THEN XCV101 = 1;
IF WGHTLOSS THEN XCV102 = 1;
IF BLDLOSS THEN XCV103 = 1;
IF ANEMDEF THEN XCV104 = 1;
IF ALCOHOL THEN XCV105 = 1;
IF DRUG THEN XCV106 = 1;
IF PSYCH THEN XCV107 = 1;
IF DEPRESS  THEN XCV108 = 1;
%end ;


%if &USEPOA=1 %then %do ;
IF POPCAT IN (5) THEN XCV1 = 1;
ELSE IF POPCAT IN (6) THEN XCV2 = 1;
ELSE IF POPCAT IN (7) THEN XCV3 = 1;
ELSE IF POPCAT IN (8) THEN XCV4 = 1;
ELSE IF POPCAT IN (9) THEN XCV5 = 1;
ELSE IF POPCAT IN (10) THEN XCV6 = 1;
ELSE IF POPCAT IN (11, 12) THEN XCV7 = 1;
ELSE IF POPCAT IN (14, 15) THEN XCV8 = 1;
ELSE IF POPCAT IN (16) THEN XCV9 = 1;
ELSE IF POPCAT IN (17) THEN XCV10 = 1;
ELSE IF POPCAT IN (18) THEN XCV11 = 1;

IF MDRG IN (101) THEN XCV12 = 1;
ELSE IF MDRG IN (102) THEN XCV13 = 1;
ELSE IF MDRG IN (103) THEN XCV14 = 1;
ELSE IF MDRG IN (104) THEN XCV15 = 1;
ELSE IF MDRG IN (105) THEN XCV16 = 1;
ELSE IF MDRG IN (107) THEN XCV17 = 1;
ELSE IF MDRG IN (108) THEN XCV18 = 1;
ELSE IF MDRG IN (401) THEN XCV19 = 1;
ELSE IF MDRG IN (402) THEN XCV20 = 1;
ELSE IF MDRG IN (502) THEN XCV21 = 1;
ELSE IF MDRG IN (503) THEN XCV22 = 1;
ELSE IF MDRG IN (505) THEN XCV23 = 1;
ELSE IF MDRG IN (507) THEN XCV24 = 1;
ELSE IF MDRG IN (508) THEN XCV25 = 1;
ELSE IF MDRG IN (509) THEN XCV26 = 1;
ELSE IF MDRG IN (511) THEN XCV27 = 1;
ELSE IF MDRG IN (514) THEN XCV28 = 1;
ELSE IF MDRG IN (519) THEN XCV29 = 1;
ELSE IF MDRG IN (601) THEN XCV30 = 1;
ELSE IF MDRG IN (602) THEN XCV31 = 1;
ELSE IF MDRG IN (603) THEN XCV32 = 1;
ELSE IF MDRG IN (604) THEN XCV33 = 1;
ELSE IF MDRG IN (611) THEN XCV34 = 1;
ELSE IF MDRG IN (701) THEN XCV35 = 1;
ELSE IF MDRG IN (705) THEN XCV36 = 1;
ELSE IF MDRG IN (801) THEN XCV37 = 1;
ELSE IF MDRG IN (802) THEN XCV38 = 1;
ELSE IF MDRG IN (804) THEN XCV39 = 1;
ELSE IF MDRG IN (805) THEN XCV40 = 1;
ELSE IF MDRG IN (806) THEN XCV41 = 1;
ELSE IF MDRG IN (807) THEN XCV42 = 1;
ELSE IF MDRG IN (808) THEN XCV43 = 1;
ELSE IF MDRG IN (811) THEN XCV44 = 1;
ELSE IF MDRG IN (815) THEN XCV45 = 1;
ELSE IF MDRG IN (1001) THEN XCV46 = 1;
ELSE IF MDRG IN (1003) THEN XCV47 = 1;
ELSE IF MDRG IN (1006) THEN XCV48 = 1;
ELSE IF MDRG IN (1101) THEN XCV49 = 1;
ELSE IF MDRG IN (1102) THEN XCV50 = 1;
ELSE IF MDRG IN (1103) THEN XCV51 = 1;
ELSE IF MDRG IN (1104) THEN XCV52 = 1;
ELSE IF MDRG IN (1107) THEN XCV53 = 1;
ELSE IF MDRG IN (1109) THEN XCV54 = 1;
ELSE IF MDRG IN (1201) THEN XCV55 = 1;
ELSE IF MDRG IN (1301) THEN XCV56 = 1;
ELSE IF MDRG IN (1302) THEN XCV57 = 1;
ELSE IF MDRG IN (1303) THEN XCV58 = 1;
ELSE IF MDRG IN (1304) THEN XCV59 = 1;
ELSE IF MDRG IN (1707) THEN XCV60 = 1;
ELSE IF MDRG IN (1708) THEN XCV61 = 1;
ELSE IF MDRG IN (1709) THEN XCV62 = 1;
ELSE IF MDRG IN (1801) THEN XCV63 = 1;
ELSE IF MDRG IN (1802) THEN XCV64 = 1;
ELSE IF MDRG IN (2104) THEN XCV65 = 1;
ELSE IF MDRG IN (2406) THEN XCV66 = 1;
ELSE IF MDRG IN (2407) THEN XCV67 = 1;
ELSE IF MDRG IN (2408) THEN XCV68 = 1;
ELSE IF MDRG IN (2501) THEN XCV69 = 1;
ELSE IF MDRG IN (7701) THEN XCV70 = 1;
ELSE IF MDRG IN (7702) THEN XCV71 = 1;

ELSE IF MDC IN (1) THEN XCV72 = 1;
ELSE IF MDC IN (4) THEN XCV73 = 1;
ELSE IF MDC IN (5) THEN XCV74 = 1;
ELSE IF MDC IN (7) THEN XCV75 = 1;
ELSE IF MDC IN (11) THEN XCV76 = 1;
ELSE IF MDC IN (12) THEN XCV77 = 1;
ELSE IF MDC IN (16) THEN XCV78 = 1;
ELSE IF MDC IN (17) THEN XCV79 = 1;
ELSE IF MDC IN (18) THEN XCV80 = 1;
ELSE IF MDC IN (21) THEN XCV81 = 1;
ELSE IF MDC IN (22) THEN XCV82 = 1;
ELSE IF MDC IN (24) THEN XCV83 = 1;
ELSE IF MDC IN (25) THEN XCV84 = 1;
*ELSE                     XCVXX = 1;

IF TRNSFER              THEN XCV85 = 1;

IF XHF  THEN XCV86 = 1;
IF XALVE  THEN XCV87 = 1;
IF XULMCIRC  THEN XCV88 = 1;
IF XERIVASC  THEN XCV89 = 1;
IF XTN_C THEN XCV90 = 1;
IF XARA  THEN XCV91 = 1;
IF XEURO  THEN XCV92 = 1;
IF XHRNLUNG  THEN XCV93 = 1;
IF XM  THEN XCV94 = 1;
IF XYPOTHY  THEN XCV95 = 1;
IF XENLFAIL  THEN XCV96 = 1;
IF XIDS THEN XCV97 = 1;
IF XYMPH  THEN XCV98 = 1;
IF XETS  THEN XCV99 = 1;
IF XUMOR  THEN XCV100 = 1;
IF XBESE THEN XCV101 = 1;
IF XGHTLOSS  THEN XCV102 = 1;
IF XLDLOSS  THEN XCV103 = 1;
IF XNEMDEF  THEN XCV104 = 1;
IF XLCOHOL  THEN XCV105 = 1;
IF XRUG THEN XCV106 = 1;
IF XSYCH  THEN XCV107 = 1;
IF XEPRESS  THEN XCV108 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;
 
retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV.;

%mend MakeVars_PSI_12 ;



%macro MakeVars_PSI_13 ;
IF TPPS&PS. IN (0,1);

LENGTH XIN1 XIN2 
       XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5,6,7,8)
                        THEN XCV2 = 1;
ELSE IF POPCAT IN (9,10,11,12)
                        THEN XCV3 = 1;
ELSE IF POPCAT IN (13)  THEN ZIN1 = 1;
ELSE IF POPCAT IN (14)  THEN XCV4 = 1;
ELSE IF POPCAT IN (15)  THEN XCV5 = 1;
ELSE IF POPCAT IN (16)  THEN XCV6 = 1;
ELSE IF POPCAT IN (17)  THEN XCV7 = 1;
ELSE IF POPCAT IN (18)  THEN XCV8 = 1;

IF MDRG IN (503)        THEN XCV9 = 1;
ELSE IF MDRG IN (505)   THEN XCV10 = 1;
ELSE IF MDRG IN (508)   THEN XCV11 = 1;
ELSE IF MDRG IN (601)   THEN XCV12 = 1;
ELSE IF MDRG IN (602)   THEN XCV13 = 1;
ELSE IF MDRG IN (806)   THEN XCV14 = 1;
ELSE IF MDRG IN (807)   THEN ZIN2 = 1;
ELSE IF MDRG IN (1003)  THEN XCV15 = 1;
ELSE IF MDRG IN (1104)  THEN XCV16 = 1;

ELSE IF MDC IN (4)      THEN XCV17 = 1;
ELSE IF MDC IN (5)      THEN XCV18 = 1;
ELSE IF MDC IN (7)      THEN XCV19 = 1;
ELSE IF MDC IN (8)      THEN XCV20 = 1;
ELSE IF MDC IN (10)     THEN XCV21 = 1;
ELSE                         XCV22 = 1;

IF TRNSFER              THEN XCV23 = 1;

IF CHF                    THEN XCV24 = 1;
IF VALVE                  THEN XCV25 = 1;
IF PULMCIRC               THEN XCV26 = 1;
IF HTN_C                  THEN XCV27 = 1;
IF PARA                   THEN XCV28 = 1;
IF CHRNLUNG               THEN XCV29 = 1;
IF HYPOTHY                THEN XCV30 = 1;
IF RENLFAIL               THEN XCV31 = 1;
IF LIVER                  THEN XCV32 = 1;
IF OBESE                  THEN XCV33 = 1;
IF WGHTLOSS               THEN XCV34 = 1;
IF ALCOHOL                THEN XCV35 = 1;
IF DEPRESS                THEN XCV36 = 1;
%end ;


%if &USEPOA=1 %then %do ;
IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5,6,7,8)
                        THEN XCV2 = 1;
ELSE IF POPCAT IN (9,10,11,12)
                        THEN XCV3 = 1;
ELSE IF POPCAT IN (13)  THEN XIN1 = 1;
ELSE IF POPCAT IN (14)  THEN XCV4 = 1;
ELSE IF POPCAT IN (15)  THEN XCV5 = 1;
ELSE IF POPCAT IN (16)  THEN XCV6 = 1;
ELSE IF POPCAT IN (17)  THEN XCV7 = 1;
ELSE IF POPCAT IN (18)  THEN XCV8 = 1;

IF MDRG IN (503)        THEN XCV9 = 1;
ELSE IF MDRG IN (505)   THEN XCV10 = 1;
ELSE IF MDRG IN (508)   THEN XCV11 = 1;
ELSE IF MDRG IN (601)   THEN XCV12 = 1;
ELSE IF MDRG IN (602)   THEN XCV13 = 1;
ELSE IF MDRG IN (806)   THEN XCV14 = 1;
ELSE IF MDRG IN (807)   THEN XIN2 = 1;
ELSE IF MDRG IN (1003)  THEN XCV15 = 1;
ELSE IF MDRG IN (1104)  THEN XCV16 = 1;

ELSE IF MDC IN (4)      THEN XCV17 = 1;
ELSE IF MDC IN (5)      THEN XCV18 = 1;
ELSE IF MDC IN (7)      THEN XCV19 = 1;
ELSE IF MDC IN (8)      THEN XCV20 = 1;
ELSE IF MDC IN (10)     THEN XCV21 = 1;
ELSE                         XCV22 = 1;

IF TRNSFER              THEN XCV23 = 1;

IF XHF                  THEN XCV24 = 1;
IF XALVE                THEN XCV25 = 1;
IF XULMCIRC             THEN XCV26 = 1;
IF XTN_C                THEN XCV27 = 1;
IF XARA                 THEN XCV28 = 1;
IF XHRNLUNG             THEN XCV29 = 1;
IF XYPOTHY              THEN XCV30 = 1;
IF XENLFAIL             THEN XCV31 = 1;
IF XIVER                THEN XCV32 = 1;
IF XBESE                THEN XCV33 = 1;
IF XGHTLOSS             THEN XCV34 = 1;
IF XLCOHOL              THEN XCV35 = 1;
IF XEPRESS              THEN XCV36 = 1;
%end ;

 
retain KEY HOSPID
       XCV1-XCV&CV. 
;

%mend MakeVars_PSI_13 ;


%macro MakeVars_PSI_14 ;
IF TPPS&PS. IN (0,1);

LENGTH YTPPS&PS. P1  XIN1 XIN2 
       XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5,6,7,8,9,10,11,12) THEN XCV2 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14,15,16,17,18) THEN XCV3 = 1;

IF MDRG IN (602) THEN ZIN2 = 1;
ELSE IF MDRG IN (1102) THEN XCV4 = 1;

ELSE IF MDC IN (6) THEN XCV5 = 1;
ELSE IF MDC IN (11) THEN XCV6 = 1;
ELSE IF MDC IN (13) THEN XCV7 = 1;
ELSE IF MDC IN (18) THEN XCV8 = 1;
ELSE                     XCV9 = 1;

IF CHF THEN XCV10 = 1;
IF HTN_C THEN XCV11 = 1;
IF CHRNLUNG  THEN XCV12 = 1;
IF OBESE THEN XCV13 = 1;
IF WGHTLOSS THEN XCV14 = 1;
IF ALCOHOL THEN XCV15 = 1;
%end ;


%if &USEPOA=1 %then %do ;
IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5,6,7,8,9,10,11,12) THEN XCV2 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14,15,16,17,18) THEN XCV3 = 1;

IF MDRG IN (602) THEN XIN2 = 1;
ELSE IF MDRG IN (1102) THEN XCV4 = 1;

ELSE IF MDC IN (6) THEN XCV5 = 1;
ELSE IF MDC IN (11) THEN XCV6 = 1;
ELSE IF MDC IN (13) THEN XCV7 = 1;
ELSE IF MDC IN (18) THEN XCV8 = 1;
ELSE                     XCV9 = 1;

IF XHF  THEN XCV10 = 1;
IF XTN_C THEN XCV11 = 1;
IF XHRNLUNG  THEN XCV12 = 1;
IF XBESE THEN XCV13 = 1;
IF XGHTLOSS  THEN XCV14 = 1;
IF XLCOHOL  THEN XCV15 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;

%mend MakeVars_PSI_14 ;



%macro MakeVars_PSI_15 ;
LENGTH YTPPS&PS. P1 XIN1 XIN2 
       XCV1-XCV&CV. 3;

IF TPPS&PS. IN (0,1);

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;

IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5) THEN XCV2 = 1;
ELSE IF POPCAT IN (6) THEN XCV3 = 1;
ELSE IF POPCAT IN (7,8,9,10,11,12) THEN XCV4 = 1;
ELSE IF POPCAT IN (13) THEN ZIN1 = 1;
ELSE IF POPCAT IN (14) THEN ZIN1 = 1;
ELSE IF POPCAT IN (15,16,17,18) THEN ZIN1 = 1;

IF MDRG IN (101) THEN XCV5 = 1;
ELSE IF MDRG IN (103) THEN XCV6 = 1;
ELSE IF MDRG IN (107) THEN XCV7 = 1;
ELSE IF MDRG IN (302) THEN XCV8 = 1;
ELSE IF MDRG IN (401) THEN XCV9 = 1;
ELSE IF MDRG IN (402) THEN XCV10 = 1;
ELSE IF MDRG IN (416) THEN XCV11 = 1;
ELSE IF MDRG IN (502) THEN XCV12 = 1;
ELSE IF MDRG IN (503) THEN XCV13 = 1;
ELSE IF MDRG IN (504) THEN XCV14 = 1;
ELSE IF MDRG IN (505) THEN XCV15 = 1;
ELSE IF MDRG IN (506) THEN XCV16 = 1;
ELSE IF MDRG IN (507) THEN XCV17 = 1;
ELSE IF MDRG IN (508) THEN XCV18 = 1;
ELSE IF MDRG IN (510) THEN XCV19 = 1;
ELSE IF MDRG IN (511) THEN XCV20 = 1;
ELSE IF MDRG IN (513) THEN XCV21 = 1;
ELSE IF MDRG IN (514) THEN XCV22 = 1;
ELSE IF MDRG IN (519) THEN XCV23 = 1;
ELSE IF MDRG IN (520) THEN XCV24 = 1;
ELSE IF MDRG IN (522) THEN XCV25 = 1;
ELSE IF MDRG IN (524) THEN ZIN2 = 1;
ELSE IF MDRG IN (601) THEN XCV26 = 1;
ELSE IF MDRG IN (602) THEN XCV27 = 1;
ELSE IF MDRG IN (603) THEN XCV28 = 1;
ELSE IF MDRG IN (604) THEN XCV29 = 1;
ELSE IF MDRG IN (606) THEN XCV30 = 1;
ELSE IF MDRG IN (609) THEN XCV31 = 1;
ELSE IF MDRG IN (610) THEN XCV32 = 1;
ELSE IF MDRG IN (611) THEN XCV33 = 1;
ELSE IF MDRG IN (621) THEN XCV34 = 1;
ELSE IF MDRG IN (701) THEN XCV35 = 1;
ELSE IF MDRG IN (702) THEN XCV36 = 1;
ELSE IF MDRG IN (703) THEN XCV37 = 1;
ELSE IF MDRG IN (704) THEN XCV38 = 1;
ELSE IF MDRG IN (705) THEN XCV39 = 1;
ELSE IF MDRG IN (712) THEN XCV40 = 1;
ELSE IF MDRG IN (806) THEN XCV41 = 1;
ELSE IF MDRG IN (807) THEN XCV42 = 1;
ELSE IF MDRG IN (815) THEN XCV43 = 1;
ELSE IF MDRG IN (816) THEN XCV44 = 1;
ELSE IF MDRG IN (1001) THEN XCV45 = 1;
ELSE IF MDRG IN (1003) THEN XCV46 = 1;
ELSE IF MDRG IN (1005) THEN XCV47 = 1;
ELSE IF MDRG IN (1006) THEN XCV48 = 1;
ELSE IF MDRG IN (1101) THEN XCV49 = 1;
ELSE IF MDRG IN (1102) THEN XCV50 = 1;
ELSE IF MDRG IN (1103) THEN XCV51 = 1;
ELSE IF MDRG IN (1104) THEN XCV52 = 1;
ELSE IF MDRG IN (1105) THEN XCV53 = 1;
ELSE IF MDRG IN (1107) THEN XCV54 = 1;
ELSE IF MDRG IN (1109) THEN XCV55 = 1;
ELSE IF MDRG IN (1201) THEN XCV56 = 1;
ELSE IF MDRG IN (1204) THEN XCV57 = 1;
ELSE IF MDRG IN (1301) THEN XCV58 = 1;
ELSE IF MDRG IN (1302) THEN XCV59 = 1;
ELSE IF MDRG IN (1303) THEN XCV60 = 1;
ELSE IF MDRG IN (1304) THEN XCV61 = 1;
ELSE IF MDRG IN (1305) THEN XCV62 = 1;
ELSE IF MDRG IN (1306) THEN XCV63 = 1;
ELSE IF MDRG IN (1307) THEN XCV64 = 1;
ELSE IF MDRG IN (1308) THEN XCV65 = 1;
ELSE IF MDRG IN (1707) THEN XCV66 = 1;
ELSE IF MDRG IN (1709) THEN XCV67 = 1;
ELSE IF MDRG IN (1801) THEN XCV68 = 1;
ELSE IF MDRG IN (1802) THEN XCV69 = 1;
ELSE IF MDRG IN (2104) THEN XCV70 = 1;
ELSE IF MDRG IN (2108) THEN XCV71 = 1;
ELSE IF MDRG IN (2408) THEN XCV72 = 1;
ELSE IF MDRG IN (7702) THEN XCV73 = 1;

ELSE IF MDC IN (1) THEN XCV74 = 1;
ELSE IF MDC IN (3) THEN XCV75 = 1;
ELSE IF MDC IN (4) THEN XCV76 = 1;
ELSE IF MDC IN (5) THEN XCV77 = 1;
ELSE IF MDC IN (6) THEN XCV78 = 1;
ELSE IF MDC IN (7) THEN XCV79 = 1;
ELSE IF MDC IN (8) THEN XCV80 = 1;
ELSE IF MDC IN (9) THEN XCV81 = 1;
ELSE IF MDC IN (11) THEN XCV82 = 1;
ELSE IF MDC IN (12) THEN XCV83 = 1;
ELSE IF MDC IN (13) THEN XCV84 = 1;
ELSE IF MDC IN (16) THEN XCV85 = 1;
ELSE IF MDC IN (17) THEN XCV86 = 1;
ELSE IF MDC IN (18) THEN XCV87 = 1;
ELSE IF MDC IN (21) THEN XCV88 = 1;
ELSE IF MDC IN (24) THEN XCV89 = 1;
ELSE                     ZIN2 = 1;

IF TRNSFER THEN XCV90 = 1;
IF NOPRDAY THEN XCV91 = 1;

IF PERIVASC THEN XCV92 = 1;
IF DM  THEN XCV93 = 1;
IF DMCX THEN XCV94 = 1;
IF RENLFAIL THEN XCV95 = 1;
IF OBESE THEN XCV96 = 1;
IF WGHTLOSS THEN XCV97 = 1;
IF BLDLOSS THEN XCV98 = 1;
IF ANEMDEF THEN XCV99 = 1;
%end ;

%if &USEPOA=1 %then %do ;

IF SEXCAT IN (2)        THEN XCV1 = 1;

IF POPCAT IN (5) THEN XCV2 = 1;
ELSE IF POPCAT IN (6) THEN XCV3 = 1;
ELSE IF POPCAT IN (7,8,9,10,11,12) THEN XCV4 = 1;
ELSE IF POPCAT IN (13) THEN XIN1 = 1;
ELSE IF POPCAT IN (14) THEN XIN1 = 1;
ELSE IF POPCAT IN (15,16,17,18) THEN XIN1 = 1;

IF MDRG IN (101) THEN XCV5 = 1;
ELSE IF MDRG IN (103) THEN XCV6 = 1;
ELSE IF MDRG IN (107) THEN XCV7 = 1;
ELSE IF MDRG IN (302) THEN XCV8 = 1;
ELSE IF MDRG IN (401) THEN XCV9 = 1;
ELSE IF MDRG IN (402) THEN XCV10 = 1;
ELSE IF MDRG IN (416) THEN XCV11 = 1;
ELSE IF MDRG IN (502) THEN XCV12 = 1;
ELSE IF MDRG IN (503) THEN XCV13 = 1;
ELSE IF MDRG IN (504) THEN XCV14 = 1;
ELSE IF MDRG IN (505) THEN XCV15 = 1;
ELSE IF MDRG IN (506) THEN XCV16 = 1;
ELSE IF MDRG IN (507) THEN XCV17 = 1;
ELSE IF MDRG IN (508) THEN XCV18 = 1;
ELSE IF MDRG IN (510) THEN XCV19 = 1;
ELSE IF MDRG IN (511) THEN XCV20 = 1;
ELSE IF MDRG IN (513) THEN XCV21 = 1;
ELSE IF MDRG IN (514) THEN XCV22 = 1;
ELSE IF MDRG IN (519) THEN XCV23 = 1;
ELSE IF MDRG IN (520) THEN XCV24 = 1;
ELSE IF MDRG IN (522) THEN XCV25 = 1;
ELSE IF MDRG IN (524) THEN XIN2 = 1;
ELSE IF MDRG IN (601) THEN XCV26 = 1;
ELSE IF MDRG IN (602) THEN XCV27 = 1;
ELSE IF MDRG IN (603) THEN XCV28 = 1;
ELSE IF MDRG IN (604) THEN XCV29 = 1;
ELSE IF MDRG IN (606) THEN XCV30 = 1;
ELSE IF MDRG IN (609) THEN XCV31 = 1;
ELSE IF MDRG IN (610) THEN XCV32 = 1;
ELSE IF MDRG IN (611) THEN XCV33 = 1;
ELSE IF MDRG IN (621) THEN XCV34 = 1;
ELSE IF MDRG IN (701) THEN XCV35 = 1;
ELSE IF MDRG IN (702) THEN XCV36 = 1;
ELSE IF MDRG IN (703) THEN XCV37 = 1;
ELSE IF MDRG IN (704) THEN XCV38 = 1;
ELSE IF MDRG IN (705) THEN XCV39 = 1;
ELSE IF MDRG IN (712) THEN XCV40 = 1;
ELSE IF MDRG IN (806) THEN XCV41 = 1;
ELSE IF MDRG IN (807) THEN XCV42 = 1;
ELSE IF MDRG IN (815) THEN XCV43 = 1;
ELSE IF MDRG IN (816) THEN XCV44 = 1;
ELSE IF MDRG IN (1001) THEN XCV45 = 1;
ELSE IF MDRG IN (1003) THEN XCV46 = 1;
ELSE IF MDRG IN (1005) THEN XCV47 = 1;
ELSE IF MDRG IN (1006) THEN XCV48 = 1;
ELSE IF MDRG IN (1101) THEN XCV49 = 1;
ELSE IF MDRG IN (1102) THEN XCV50 = 1;
ELSE IF MDRG IN (1103) THEN XCV51 = 1;
ELSE IF MDRG IN (1104) THEN XCV52 = 1;
ELSE IF MDRG IN (1105) THEN XCV53 = 1;
ELSE IF MDRG IN (1107) THEN XCV54 = 1;
ELSE IF MDRG IN (1109) THEN XCV55 = 1;
ELSE IF MDRG IN (1201) THEN XCV56 = 1;
ELSE IF MDRG IN (1204) THEN XCV57 = 1;
ELSE IF MDRG IN (1301) THEN XCV58 = 1;
ELSE IF MDRG IN (1302) THEN XCV59 = 1;
ELSE IF MDRG IN (1303) THEN XCV60 = 1;
ELSE IF MDRG IN (1304) THEN XCV61 = 1;
ELSE IF MDRG IN (1305) THEN XCV62 = 1;
ELSE IF MDRG IN (1306) THEN XCV63 = 1;
ELSE IF MDRG IN (1307) THEN XCV64 = 1;
ELSE IF MDRG IN (1308) THEN XCV65 = 1;
ELSE IF MDRG IN (1707) THEN XCV66 = 1;
ELSE IF MDRG IN (1709) THEN XCV67 = 1;
ELSE IF MDRG IN (1801) THEN XCV68 = 1;
ELSE IF MDRG IN (1802) THEN XCV69 = 1;
ELSE IF MDRG IN (2104) THEN XCV70 = 1;
ELSE IF MDRG IN (2108) THEN XCV71 = 1;
ELSE IF MDRG IN (2408) THEN XCV72 = 1;
ELSE IF MDRG IN (7702) THEN XCV73 = 1;

ELSE IF MDC IN (1) THEN XCV74 = 1;
ELSE IF MDC IN (3) THEN XCV75 = 1;
ELSE IF MDC IN (4) THEN XCV76 = 1;
ELSE IF MDC IN (5) THEN XCV77 = 1;
ELSE IF MDC IN (6) THEN XCV78 = 1;
ELSE IF MDC IN (7) THEN XCV79 = 1;
ELSE IF MDC IN (8) THEN XCV80 = 1;
ELSE IF MDC IN (9) THEN XCV81 = 1;
ELSE IF MDC IN (11) THEN XCV82 = 1;
ELSE IF MDC IN (12) THEN XCV83 = 1;
ELSE IF MDC IN (13) THEN XCV84 = 1;
ELSE IF MDC IN (16) THEN XCV85 = 1;
ELSE IF MDC IN (17) THEN XCV86 = 1;
ELSE IF MDC IN (18) THEN XCV87 = 1;
ELSE IF MDC IN (21) THEN XCV88 = 1;
ELSE IF MDC IN (24) THEN XCV89 = 1;
ELSE                     XIN2 = 1;

IF TRNSFER THEN XCV90 = 1;
IF NOPRDAY THEN XCV91 = 1;

IF XERIVASC  THEN XCV92 = 1;
IF XM  THEN XCV93 = 1;
IF XMCX THEN XCV94 = 1;
IF XENLFAIL  THEN XCV95 = 1;
IF XBESE THEN XCV96 = 1;
IF XGHTLOSS  THEN XCV97 = 1;
IF XLDLOSS  THEN XCV98 = 1;
IF XNEMDEF  THEN XCV99 = 1;
%end ;

YTPPS&PS. = TPPS&PS.;
P1 = QPPS&PS.;

retain KEY HOSPID
       YTPPS&PS. P1 
       XCV1-XCV&CV. 
;

%mend MakeVars_PSI_15 ;
