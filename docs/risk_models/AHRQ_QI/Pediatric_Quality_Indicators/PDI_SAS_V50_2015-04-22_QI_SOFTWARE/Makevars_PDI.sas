*---------------------------------------------------------------------*;
*--- The following Macros are called from the PDSASP3 Program       --*;
*-- MAKCOVAR CREATES THE VARIABLES USED FOR RISK ADJUSTMENT.        --*;
*-- THE LOCATION OF THIS FILE MUST BE ENTERED IN THE CONTROL FILE.  --*;
*---------------------------------------------------------------------*;
%macro MakeVars_PDI_01 ;
IF TPPD&PD. IN (0,1);

LENGTH  XIN1 XIN2 YTPPD&PD. XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;

IF MDRG IN (1505) THEN XIN2 = 1;
ELSE IF MDC IN (5) THEN XCV1 = 1;
ELSE IF MDC IN (6) THEN XCV2 = 1;
ELSE IF MDC IN (8) THEN XCV3 = 1;
ELSE IF MDC IN (11) THEN XCV4 = 1;
ELSE IF MDC IN (15) THEN XCV5 = 1;

ELSE XCV6 = 1;

XCV7 = (uniform(1)<=0.5);

IF HPPD01 IN (2) THEN XCV8 = 1;
IF HPPD01 IN (3) THEN XCV9 = 1;
IF HPPD01 IN (4,5) THEN XCV10 = 1;
IF HPPD01 IN (6) THEN XCV11 = 1;
IF HPPD01 IN (7) THEN XCV12 = 1;
%end ;

%if &USEPOA=1 %then %do ;

IF MDRG IN (1505) THEN XIN2 = 1;
ELSE IF MDC IN (5) THEN XCV1 = 1;
ELSE IF MDC IN (6) THEN XCV2 = 1;
ELSE IF MDC IN (8) THEN XCV3 = 1;
ELSE IF MDC IN (11) THEN XCV4 = 1;
ELSE IF MDC IN (15) THEN XCV5 = 1;

ELSE XCV6 = 1;

XCV7 = (uniform(1)<=0.5);

IF HPPD01 IN (2) THEN XCV8 = 1;
IF HPPD01 IN (3) THEN XCV9 = 1;
IF HPPD01 IN (4,5) THEN XCV10 = 1;
IF HPPD01 IN (6) THEN XCV11 = 1;
IF HPPD01 IN (7) THEN XCV12 = 1;
%end ;

YTPPD&PD. = TPPD&PD.;

retain KEY HOSPID
       YTPPD&PD.  
       XCV1-XCV&CV.
;
%mend MakeVars_PDI_01 ;

%macro MakeVars_PDI_02 ;

LENGTH ZIN1 ZIN2 XIN1 XIN2 XCV1-XCV&CV. 3;

ZIN1 = .;
ZIN2 = .;
IF TPPD&PD. IN (0,1);

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF PAGECAT IN (5) THEN XCV1 = 1;
ELSE IF PAGECAT IN (4) THEN XCV2 = 1;
ELSE ZIN1 = 1;

IF MDC IN (1) THEN XCV3 = 1;
ELSE ZIN2 = 1;

XCV4 = (uniform(1)<=0.5);

IF GPPD02 IN (2) THEN XCV5 = 1;

%end ;

%if &USEPOA=1 %then %do ;
IF PAGECAT IN (5) THEN XCV1 = 1;
ELSE IF PAGECAT IN (4) THEN XCV2 = 1;
ELSE XIN1 = 1;

IF MDC IN (1) THEN XCV3 = 1;
ELSE XIN2 = 1;

XCV4 = (uniform(1)<=0.5);

IF GPPD02 IN (2) THEN XCV5 = 1;

%end ;


retain KEY HOSPID
	XCV1-XCV&CV.
;

%mend MakeVars_PDI_02 ;

%macro MakeVars_PDI_05 ;
LENGTH XIN1 XIN2 YTPPD&PD. XCV1-XCV&CV. 3;

IF TPPD&PD. IN (0,1);

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF PAGECAT IN (5) THEN XCV1 = 1;
ELSE IF PAGECAT IN (4,3,2) THEN XCV2 = 1;
ELSE ZIN1 = 1;

ZIN2 = 1;

XCV3 = (uniform(1)<=0.5);
%end ;

%if &USEPOA=1 %then %do ;
IF PAGECAT IN (5) THEN XCV1 = 1;
ELSE IF PAGECAT IN (4,3,2) THEN XCV2 = 1;
ELSE XIN1 = 1;

XIN2 = 1;

XCV3 = (uniform(1)<=0.5);

%end ;

YTPPD&PD. = TPPD&PD.;


retain KEY HOSPID
       YTPPD&PD.
       XCV1-XCV&CV.
;

%mend MakeVars_PDI_05 ;

%macro MakeVars_PDI_06 ;
IF TPPD&PD. IN (0,1);

LENGTH  XIN1 XIN2 XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF PAGECAT IN (5,4,3,2) THEN XCV1 = 1;

ELSE IF AGEDCAT IN (4,3,2) THEN XCV2 = 1;

ELSE IF BWHTCAT IN (0,9) THEN ZIN1 = 1;
ELSE IF BWHTCAT IN (8,7,6,5,4,3,2,1) THEN XCV3 = 1;

IF MDRG IN (503) THEN XCV4 = 1;
ELSE IF MDRG IN (505) THEN ZIN2 = 1;
ELSE IF MDRG IN (508) THEN XCV5 = 1;

ELSE IF MDC IN (5) THEN XCV6 = 1;
ELSE IF MDC IN (15) THEN XCV7 = 1;
ELSE XCV8 = 1;

IF CCS217 THEN XCV9 = 1;
IF CCS221 THEN XCV10 = 1;

IF TRNSFER THEN XCV11 = 1;

IF HPPD06 IN (2) THEN XCV12 = 1;
IF HPPD06 IN (3) THEN XCV13 = 1;
IF HPPD06 IN (4) THEN XCV14 = 1;
IF HPPD06 IN (5,6) THEN XCV15 = 1;
%end ;

%IF &USEPOA=1 %then %do ;
IF PAGECAT IN (5,4,3,2) THEN XCV1 = 1;

ELSE IF AGEDCAT IN (4,3,2) THEN XCV2 = 1;

ELSE IF BWHTCAT IN (0,9) THEN XIN1 = 1;
ELSE IF BWHTCAT IN (8,7,6,5,4,3,2,1) THEN XCV3 = 1;

IF MDRG IN (503) THEN XCV4 = 1;
ELSE IF MDRG IN (505) THEN XIN2 = 1;
ELSE IF MDRG IN (508) THEN XCV5 = 1;

ELSE IF MDC IN (5) THEN XCV6 = 1;
ELSE IF MDC IN (15) THEN XCV7 = 1;
ELSE XCV8 = 1;

IF XCS217 THEN XCV9 = 1;
IF XCS221 THEN XCV10 = 1;

IF TRNSFER THEN XCV11 = 1;

IF HPPD06 IN (2) THEN XCV12 = 1;
IF HPPD06 IN (3) THEN XCV13 = 1;
IF HPPD06 IN (4) THEN XCV14 = 1;
IF HPPD06 IN (5,6) THEN XCV15 = 1;
%end ;


retain KEY HOSPID
       XCV1-XCV&CV.
;
%mend MakeVars_PDI_06 ;

%macro MakeVars_PDI_08 ;
LENGTH  XCV1-XCV&CV. 3;


IF TPPD&PD. IN (0,1);


ARRAY XCV(&CV.) XCV1-XCV&CV.;


DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF MDC IN (5) THEN XCV1 = 1;
ELSE ZIN2 = 1;
XCV2 = (uniform(1)<=0.5);
%end ;


retain KEY HOSPID
       XCV1-XCV&CV.
;

%mend MakeVars_PDI_08 ;

%macro MakeVars_PDI_09 ;
IF TPPD&PD. IN (0,1);

LENGTH XIN1 XIN2 YTPPD&PD. P1 XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;


XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF PAGECAT IN (5) THEN XCV1 = 1;
ELSE IF PAGECAT IN (4) THEN XCV2 = 1;
ELSE IF PAGECAT IN (3) THEN XCV3 = 1;
ELSE IF PAGECAT IN (2) THEN XCV4 = 1;

ELSE IF AGEDCAT IN (4,3,2) THEN XCV5 = 1;
ELSE ZIN1 = 1;

IF MDRG IN (802) THEN XCV6 = 1;
ELSE IF MDC IN (1) THEN XCV7 = 1;
ELSE ZIN2 = 1;

IF CCS52   THEN XCV8 = 1;
IF CCS58   THEN XCV9 = 1;
IF CCS654   THEN XCV10 = 1;
IF CCS82   THEN XCV11 = 1;
IF CCS95   THEN XCV12 = 1;
IF CCS133  THEN XCV13 = 1;
IF CCS217  THEN XCV14 = 1;
IF CCS224  THEN XCV15 = 1;

IF TRNSFER THEN XCV16 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF PAGECAT IN (5) THEN XCV1 = 1;
ELSE IF PAGECAT IN (4) THEN XCV2 = 1;
ELSE IF PAGECAT IN (3) THEN XCV3 = 1;
ELSE IF PAGECAT IN (2) THEN XCV4 = 1;

ELSE IF AGEDCAT IN (4,3,2) THEN XCV5 = 1;
ELSE XIN1 = 1;

IF MDRG IN (802) THEN XCV6 = 1;
ELSE IF MDC IN (1) THEN XCV7 = 1;
ELSE XIN2 = 1;

IF XCS52   THEN XCV8 = 1;
IF XCS58   THEN XCV9 = 1;
IF XCS654   THEN XCV10 = 1;
IF XCS82   THEN XCV11 = 1;
IF XCS95   THEN XCV12 = 1;
IF XCS133  THEN XCV13 = 1;
IF XCS217  THEN XCV14 = 1;
IF XCS224  THEN XCV15 = 1;

IF TRNSFER THEN XCV16 = 1;
%end ;

YTPPD&PD. = TPPD&PD.;
P1 = QPPD&PD.;


retain KEY HOSPID
       YTPPD&PD. P1 
       XCV1-XCV&CV.
;


%mend MakeVars_PDI_09 ;

%macro MakeVars_PDI_10 ;
IF TPPD&PD. IN (0,1);

LENGTH ZIN1 ZIN2 XIN1 XIN2 XCV1-XCV&CV. 3;

ZIN1 = .;
ZIN2 = .;
ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF PAGECAT IN (5) THEN XCV1 = 1;
ELSE IF PAGECAT IN (4) THEN XCV2 = 1;
ELSE IF PAGECAT IN (3) THEN XCV3 = 1;
ELSE ZIN1 = 1;

ZIN2 = 1;

IF CCS62   THEN XCV4 = 1;
IF CCS83   THEN XCV5 = 1;
IF CCS108 THEN XCV6 = 1;
IF CCS151  THEN XCV7 = 1;
IF CCS213  THEN XCV8 = 1;

IF TRNSFER THEN XCV9 = 1;

IF GPPD10 IN (2,3) THEN XCV10 = 1;
IF GPPD10 IN (4,5) THEN XCV11 = 1;

IF HPPD10 IN (2,3) THEN XCV12 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF PAGECAT IN (5) THEN XCV1 = 1;
ELSE IF PAGECAT IN (4) THEN XCV2 = 1;
ELSE IF PAGECAT IN (3) THEN XCV3 = 1;
ELSE XIN1 = 1;

XIN2 = 1;

IF XCS62   THEN XCV4 = 1;
IF XCS83   THEN XCV5 = 1;
IF XCS108 THEN XCV6 = 1;
IF XCS151  THEN XCV7 = 1;
IF XCS213  THEN XCV8 = 1;

IF TRNSFER THEN XCV9 = 1;

IF GPPD10 IN (2,3) THEN XCV10 = 1;
IF GPPD10 IN (4,5) THEN XCV11 = 1;

IF HPPD10 IN (2,3) THEN XCV12 = 1;

%end ;

retain KEY HOSPID
       XCV1-XCV&CV.
;

%mend MakeVars_PDI_10 ;

%macro MakeVars_PDI_11 ;
IF TPPD&PD. IN (0,1);

LENGTH  XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
XCV1 = (uniform(1)<=0.5);
XCV2 = (uniform(1)<=0.5);
%end ;


%if &USEPOA=1 %then %do ;
XCV1 = (uniform(1)<=0.5);
XCV2 = (uniform(1)<=0.5);
%end ;

retain KEY HOSPID
        XCV1-XCV&CV.
;

%mend MakeVars_PDI_11 ;

%macro MakeVars_PDI_12 ;
IF TPPD&PD. IN (0,1);

LENGTH XIN1 XIN2 YTPPD&PD. P1 XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF PAGECAT IN (5) THEN XCV1 = 1;
ELSE IF PAGECAT IN (4) THEN XCV2 = 1;
ELSE IF PAGECAT IN (3) THEN XCV3 = 1;
ELSE IF PAGECAT IN (2) THEN XCV4 = 1;

ELSE IF AGEDCAT IN (4,3,2) THEN ZIN1 = 1;

ELSE IF BWHTCAT IN (9,8,7,6,5) THEN ZIN1 = 1;
ELSE IF BWHTCAT IN (4) THEN XCV5 = 1;
ELSE IF BWHTCAT IN (3) THEN XCV6 = 1;
ELSE IF BWHTCAT IN (2,1) THEN XCV7 = 1;
ELSE ZIN1 = 1;

IF MDRG IN (416) THEN XCV8 = 1;
ELSE IF MDRG IN (602) THEN XCV9 = 1;
ELSE IF MDRG IN (1711) THEN XCV10 = 1;
ELSE IF MDRG IN (7705) THEN XCV11 = 1;

ELSE IF MDC IN (5) THEN XCV12 = 1;
ELSE IF MDC IN (7) THEN XCV13 = 1;
ELSE IF MDC IN (10) THEN XCV14 = 1;
ELSE IF MDC IN (15) THEN XCV15 = 1;
ELSE IF MDC IN (16) THEN XCV16 = 1;
ELSE ZIN2 = 1;

IF CCS39   THEN XCV17 = 1;
IF CCS52   THEN XCV18 = 1;
IF CCS58   THEN XCV19 = 1;
IF CCS63   THEN XCV20 = 1;
IF CCS81 THEN XCV21 = 1;
IF CCS82   THEN XCV22 = 1;
IF CCS83   THEN XCV23 = 1;
IF CCS103  THEN XCV24 = 1;
IF CCS138  THEN XCV25 = 1;
IF CCS151  THEN XCV26 = 1;
IF CCS213  THEN XCV27 = 1;
IF CCS214  THEN XCV28 = 1;
IF CCS217  THEN XCV29 = 1;

IF TRNSFER THEN XCV30 = 1;
IF NOPOUB04 THEN XCV31 = 1;
IF NOPRDAY THEN XCV32 = 1;

IF GPPD12 IN (2) THEN XCV33 = 1;
IF GPPD12 IN (3) THEN XCV34 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF PAGECAT IN (5) THEN XCV1 = 1;
ELSE IF PAGECAT IN (4) THEN XCV2 = 1;
ELSE IF PAGECAT IN (3) THEN XCV3 = 1;
ELSE IF PAGECAT IN (2) THEN XCV4 = 1;

ELSE IF AGEDCAT IN (4,3,2) THEN XIN1 = 1;

ELSE IF BWHTCAT IN (9,8,7,6,5) THEN XIN1 = 1;
ELSE IF BWHTCAT IN (4) THEN XCV5 = 1;
ELSE IF BWHTCAT IN (3) THEN XCV6 = 1;
ELSE IF BWHTCAT IN (2,1) THEN XCV7 = 1;
ELSE XIN1 = 1;

IF MDRG IN (416) THEN XCV8 = 1;
ELSE IF MDRG IN (602) THEN XCV9 = 1;
ELSE IF MDRG IN (1711) THEN XCV10 = 1;
ELSE IF MDRG IN (7705) THEN XCV11 = 1;

ELSE IF MDC IN (5) THEN XCV12 = 1;
ELSE IF MDC IN (7) THEN XCV13 = 1;
ELSE IF MDC IN (10) THEN XCV14 = 1;
ELSE IF MDC IN (15) THEN XCV15 = 1;
ELSE IF MDC IN (16) THEN XCV16 = 1;
ELSE XIN2 = 1;

IF XCS39   THEN XCV17 = 1;
IF XCS52   THEN XCV18 = 1;
IF XCS58   THEN XCV19 = 1;
IF XCS63   THEN XCV20 = 1;
IF XCS81   THEN XCV21 = 1;
IF XCS82   THEN XCV22 = 1;
IF XCS83   THEN XCV23 = 1;
IF XCS103  THEN XCV24 = 1;
IF XCS138  THEN XCV25 = 1;
IF XCS151  THEN XCV26 = 1;
IF XCS213  THEN XCV27 = 1;
IF XCS214  THEN XCV28 = 1;
IF XCS217  THEN XCV29 = 1;

IF TRNSFER THEN XCV30 = 1;
IF NOPOUB04 THEN XCV31 = 1;
IF NOPRDAY THEN XCV32 = 1;

IF GPPD12 IN (2) THEN XCV33 = 1;
IF GPPD12 IN (3) THEN XCV34 = 1;
%end ;

YTPPD&PD. = TPPD&PD.;
P1 = QPPD&PD.;

retain KEY HOSPID
       YTPPD&PD. P1 
       XCV1-XCV&CV. ;

%mend MakeVars_PDI_12 ;

%macro MakeVars_PDI_70 ;
IF TPNQ01 IN (0,1);

*-- bait and switch --*;
TPPD&PD. = TPNQ01 ;

LENGTH XIN1 XIN2 XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

XCV1 = (uniform(1)<=0.5);
XCV2 = (uniform(1)<=0.5);

retain KEY HOSPID
       XCV1-XCV&CV.
;

%mend MakeVars_PDI_70 ;


%macro MakeVars_PDI_71 ;

IF TPNQ02 IN (0,1);

*-- bait and switch --*;
TPPD&PD. = TPNQ02 ;

LENGTH XIN1 XIN2 YTPPD&PD. P1 XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF SEXCAT IN (2) THEN XCV1 = 1;

IF BWHTCAT IN (9) THEN XCV2 = 1;
ELSE IF BWHTCAT IN (8) THEN XCV3 = 1;
ELSE IF BWHTCAT IN (7) THEN XCV4 = 1;
ELSE IF BWHTCAT IN (6) THEN XCV5 = 1;
ELSE IF BWHTCAT IN (5) THEN XCV6 = 1;
ELSE IF BWHTCAT IN (4) THEN XCV7 = 1;
ELSE IF BWHTCAT IN (3) THEN XCV8 = 1;
ELSE IF BWHTCAT IN (2,1) THEN XCV9 = 1;
ELSE XIN1 = 1;

IF MDRG IN (416) THEN XCV10 = 1;
ELSE IF MDRG IN (505) THEN XCV11 = 1;
ELSE IF MDRG IN (508) THEN XCV12 = 1;
ELSE IF MDRG IN (530) THEN XIN2 = 1;

ELSE IF MDC IN (1) THEN XCV13 = 1;
ELSE IF MDC IN (4) THEN XCV14 = 1;
ELSE IF MDC IN (5) THEN XCV15 = 1;
ELSE IF MDC IN (6) THEN XCV16 = 1;
ELSE IF MDC IN (15) THEN XCV17 = 1;

ELSE XCV18 = 1;

XCV19 = (uniform(1)<=0.5);

IF CONGCAT IN (1) THEN XCV20 = 1;
IF CONGCAT IN (2) THEN XCV21 = 1;
IF CONGCAT IN (3) THEN XCV22 = 1;
IF CONGCAT IN (4) THEN XCV23 = 1;
IF CONGCAT IN (5) THEN XCV24 = 1;
IF CONGCAT IN (6) THEN XCV25 = 1;
IF CONGCAT IN (7) THEN XCV26 = 1;
IF CONGCAT IN (8) THEN XCV27 = 1;

IF TRNSFER THEN XCV28 = 1;
IF NOPOUB04 THEN XCV29 = 1;
IF NOPRDAY THEN XCV30 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF SEXCAT IN (2) THEN XCV1 = 1;

IF BWHTCAT IN (9) THEN XCV2 = 1;
ELSE IF BWHTCAT IN (8) THEN XCV3 = 1;
ELSE IF BWHTCAT IN (7) THEN XCV4 = 1;
ELSE IF BWHTCAT IN (6) THEN XCV5 = 1;
ELSE IF BWHTCAT IN (5) THEN XCV6 = 1;
ELSE IF BWHTCAT IN (4) THEN XCV7 = 1;
ELSE IF BWHTCAT IN (3) THEN XCV8 = 1;
ELSE IF BWHTCAT IN (2,1) THEN XCV9 = 1;
ELSE XIN1 = 1;

IF MDRG IN (416) THEN XCV10 = 1;
ELSE IF MDRG IN (505) THEN XCV11 = 1;
ELSE IF MDRG IN (508) THEN XCV12 = 1;
ELSE IF MDRG IN (530) THEN XIN2 = 1;

ELSE IF MDC IN (1) THEN XCV13 = 1;
ELSE IF MDC IN (4) THEN XCV14 = 1;
ELSE IF MDC IN (5) THEN XCV15 = 1;
ELSE IF MDC IN (6) THEN XCV16 = 1;
ELSE IF MDC IN (15) THEN XCV17 = 1;

ELSE XCV18 = 1;

XCV19 = (uniform(1)<=0.5);

IF CONGCAT IN (1) THEN XCV20 = 1;
IF CONGCAT IN (2) THEN XCV21 = 1;
IF CONGCAT IN (3) THEN XCV22 = 1;
IF CONGCAT IN (4) THEN XCV23 = 1;
IF CONGCAT IN (5) THEN XCV24 = 1;
IF CONGCAT IN (6) THEN XCV25 = 1;
IF CONGCAT IN (7) THEN XCV26 = 1;
IF CONGCAT IN (8) THEN XCV27 = 1;

IF TRNSFER  THEN XCV28 = 1;
IF NOPOUB04 THEN XCV29 = 1;
IF NOPRDAY  THEN XCV30 = 1;
%end ;

YTPPD&PD. = TPPD&PD. ;

IF NOPOA IN (0) THEN P1 = 0;
ELSE P1 = .;

retain KEY HOSPID
       YTPPD&PD. P1 
       XCV1-XCV&CV. ;

%mend MakeVars_PDI_71 ;


%macro MakeVars_PDI_72 ;

IF TPNQ03 IN (0,1);

*-- bait and switch --*;
TPPD&PD. = TPNQ03 ;

LENGTH XIN1 XIN2 YTPPD&PD. XCV1-XCV&CV. 3;

ARRAY XCV(&CV.) XCV1-XCV&CV.;

XIN1 = 0; XIN2 = 0;
DO I = 1 TO &CV.;
   XCV(I) = 0;
END;

%if &USEPOA=0 %then %do ;
IF BWHTCAT IN (9,8,7,6,5,4) THEN XCV1 = 1;
ELSE IF BWHTCAT IN (3) THEN XCV2 = 1;
ELSE IF BWHTCAT IN (2,1) THEN XCV3 = 1;
ELSE ZIN1 = 1;

IF MDRG IN (1501) THEN XCV4 = 1;

ELSE ZIN2 = 1;

XCV5 = (uniform(1)<=0.5);

IF CONGCAT IN (1) THEN XCV6 = 1;
IF CONGCAT IN (5) THEN XCV7 = 1;
IF CONGCAT IN (8) THEN XCV8 = 1;

IF TRNSFER THEN XCV9 = 1;
IF NOPOUB04 THEN XCV10 = 1;
%end ;

%if &USEPOA=1 %then %do ;
IF BWHTCAT IN (9,8,7,6,5,4) THEN XCV1 = 1;
ELSE IF BWHTCAT IN (3) THEN XCV2 = 1;
ELSE IF BWHTCAT IN (2,1) THEN XCV3 = 1;
ELSE XIN1 = 1;

IF MDRG IN (1501) THEN XCV4 = 1;

ELSE XIN2 = 1;

XCV5 = (uniform(1)<=0.5);

IF CONGCAT IN (1) THEN XCV6 = 1;
IF CONGCAT IN (5) THEN XCV7 = 1;
IF CONGCAT IN (8) THEN XCV8 = 1;

IF TRNSFER THEN XCV9 = 1;
IF NOPOUB04 THEN XCV10 = 1;
%end ;

YTPPD&PD. = TPPD&PD.;

retain KEY HOSPID
       YTPPD&PD.  
       XCV1-XCV&CV. ;

%mend MakeVars_PDI_72 ;
